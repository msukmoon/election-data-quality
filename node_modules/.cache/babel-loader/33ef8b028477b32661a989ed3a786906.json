{"ast":null,"code":"var _jsxFileName = \"/Users/jay/Documents/election-data-quality/front-end/src/components/MapView.js\";\nimport React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { Map, ZoomControl, LayersControl, LayerGroup, TileLayer, FeatureGroup, Tooltip, Polygon } from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport Control from \"react-leaflet-control\";\nimport { CubeGrid } from \"styled-spinkit\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport styled from \"styled-components\";\nconst {\n  Overlay\n} = LayersControl;\nconst Styles = styled.div`\n  .btn-light {\n    background-color: white;\n    border-color: black;\n    font-size: 12px;\n  }\n\n  .dropdown-item {\n    color: black;\n    font-size: 12px;\n  }\n\n  .form-check {\n    font-size: 12px;\n  }\n\n  .leaflet-container {\n    width: 100%;\n    height: 91.35vh;\n  }\n\n  // NOTE: helper classes below are from react-burger-menu library\n  /* Position and sizing of clickable cross button */\n  .bm-cross-button {\n    height: 24px;\n    width: 24px;\n  }\n\n  /* Color/shape of close button cross */\n  .bm-cross {\n    background: black;\n  }\n\n  /* Sidebar wrapper styles  */\n  .bm-menu-wrap {\n    position: fixed;\n    height: 100%;\n  }\n\n  /* General sidebar styles */\n  .bm-menu {\n    background: #cfd8dc;\n    padding: 2.5em 1.5em 0;\n    font-size: 1.15em;\n  }\n\n  /* Wrapper for item list */\n  .bm-item-list {\n    color: black;\n    padding: 0;\n  }\n\n  /* Individual item */\n  .bm-item {\n    display: inline-block;\n  }\n\n  /* Styling of overlay */\n  .bm-overlay {\n    background: rgba(0, 0, 0, 0.3);\n  }\n`;\n\nclass MapView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latitude: 34,\n      longitude: -85,\n      zoom: 6,\n      displayMode: 1,\n      isLoading: false,\n      sidebarOpen: false,\n      currPrecinct: {\n        id: null,\n        canonicalName: null,\n        ghost: null,\n        multipleBorder: null,\n        adjPrecIds: [],\n        enclPrecIds: [],\n        demographicData: [{\n          population: null\n        }],\n        electionData: [{\n          election: \"2016 Presidential\",\n          demVotes: null,\n          repVotes: null\n        }, {\n          election: \"2016 Congressional\",\n          demVotes: null,\n          repVotes: null\n        }, {\n          election: \"2018 Congressional\",\n          demVotes: null,\n          repVotes: null\n        }],\n        logBag: [],\n        county: {\n          id: null,\n          canonicalName: null,\n          ethnicityData: [{\n            ethnicity: \"White\",\n            population: null\n          }, {\n            ethnicity: \"Black or African American\",\n            population: null\n          }, {\n            ethnicity: \"Asian or Asian American\",\n            population: null\n          }, {\n            ethnicity: \"American Indian\",\n            population: null\n          }, {\n            ethnicity: \"Pacific Islander\",\n            population: null\n          }, {\n            ethnicity: \"Others\",\n            population: null\n          }],\n          state: {\n            id: null,\n            canonicalName: null\n          }\n        },\n        coordinates: [] // TODO: Add more properties\n\n      },\n      states: [],\n      counties: [],\n      precincts: [],\n      // NOTE: The two features below are not supported yet\n      nationalParks: [],\n      congDistricts: [],\n      // NOTE: The feature below is for testing boundary correction\n      testPolygons: [{\n        id: 1,\n        fillColor: \"#fff9c4\",\n        coordinates: [[[37, -85], [38, -85], [38, -84], [37, -84]]]\n      }, {\n        id: 2,\n        fillColor: \"#fff9c4\",\n        coordinates: [[[37, -84], [38, -84], [37.5, -83.5], [38, -83], [37, -83]]]\n      }]\n    };\n  }\n\n  handleStateChange(state) {\n    this.setState({\n      sidebarOpen: state.isOpen\n    });\n  }\n\n  handleMouseOver(e) {\n    e.target.openTooltip();\n  }\n\n  handleMouseOut(e) {\n    e.target.closeTooltip();\n  }\n\n  handleZoomEnd(e) {\n    if (e.target._zoom < 7 && this.state.displayMode == 2) {\n      this.setState({\n        zoom: e.target._zoom,\n        displayMode: 1,\n        counties: []\n      });\n    } else if (e.target._zoom < 10 && this.state.displayMode == 3) {\n      this.setState({\n        zoom: e.target._zoom,\n        displayMode: 2,\n        precincts: []\n      });\n    } else {\n      this.setState({\n        zoom: e.target._zoom\n      });\n    }\n  }\n\n  handlePrecinctClick(e, id) {\n    // Modify map view\n    // const precinctsCopy = [...this.state.precincts];\n    // const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n    // precinctsCopy[precinctsIndex] = {\n    //   ...precinctsCopy[precinctsIndex],\n    //   fillColor: \"#cbc693\"\n    // };\n    // this.setState({\n    //   precincts: precinctsCopy\n    // });\n    // TODO\n    const precinctsCopy = [...this.state.precincts];\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/precinct/\" + id).then(res => res.json()).then(data => {\n      return data.adjPrecIds;\n    }).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      precinctsCopy.map(p => {\n        if (p.id === id) {\n          p.fillColor = \"#ffffff\";\n        }\n      });\n      this.setState({\n        precincts: precinctsCopy\n      });\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  handlePrecinctDblClick(e, id) {\n    // Modify map view and change the fill color of a selected state\n    const precinctsCopy = [...this.state.precincts];\n    const precinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n    precinctsCopy[precinctsIndex] = { ...precinctsCopy[precinctsIndex],\n      fillColor: \"#cbc693\"\n    };\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 12,\n      precincts: precinctsCopy\n    }); // Fetch a detailed information about a selected precinct\n\n    const demographicDataCopy = [...this.state.currPrecinct.demographicData];\n    const electionDataCopy = [...this.state.currPrecinct.electionData];\n    const ethnicityDataCopy = [...this.state.currPrecinct.county.ethnicityData];\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/precinct/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n      // demographicDataCopy[0] = { population: data.population };\n      // electionDataCopy[0] = {\n      //   ...electionDataCopy[0],\n      //   demVotes: data.electionData.PRESIDENTIAL_16_DEM,\n      //   repVotes: data.electionData.PRESIDENTIAL_16_REP\n      // };\n      // electionDataCopy[1] = {\n      //   ...electionDataCopy[1],\n      //   demVotes: data.electionData.CONGRESSIONAL_16_DEM,\n      //   repVotes: data.electionData.CONGRESSIONAL_16_REP\n      // };\n      // electionDataCopy[2] = {\n      //   ...electionDataCopy[2],\n      //   demVotes: data.electionData.CONGRESSIONAL_18_DEM,\n      //   repVotes: data.electionData.CONGRESSIONAL_18_REP\n      // };\n\n      ethnicityDataCopy[0] = { ...ethnicityDataCopy[0],\n        population: data.white\n      };\n      ethnicityDataCopy[1] = { ...ethnicityDataCopy[1],\n        population: data.africanAmer\n      };\n      ethnicityDataCopy[2] = { ...ethnicityDataCopy[2],\n        population: data.asian\n      };\n      ethnicityDataCopy[3] = { ...ethnicityDataCopy[3],\n        population: data.nativeAmer\n      };\n      ethnicityDataCopy[4] = { ...ethnicityDataCopy[4],\n        population: data.pasifika\n      };\n      ethnicityDataCopy[5] = { ...ethnicityDataCopy[5],\n        population: data.others\n      };\n      this.setState({\n        currPrecinct: { ...this.state.currPrecinct,\n          id: data.id,\n          canonicalName: data.canonicalName,\n          ghost: data.ghost,\n          multipleBorder: data.multipleBorder,\n          // demographicData: demographicDataCopy,\n          // electionData: electionDataCopy,\n          // TODO: add logBag\n          // logBag: [\n          //   ...this.state.currPrecinct.logBag,\n          //   {\n          //     id: null,\n          //     category: null,\n          //     comment: null\n          //   }\n          // ],\n          county: {\n            ethnicityData: ethnicityDataCopy\n          } // TODO: Add more properties\n\n        }\n      });\n      this.setState({\n        isLoading: false,\n        sidebarOpen: true\n      });\n    });\n  }\n\n  handleCountyClick(e, id) {\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 10,\n      isLoading: true\n    });\n    fetch(\"api/county/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.precincts.map(currData => this.setState({\n        precincts: [...this.state.precincts, {\n          id: currData.id,\n          fillColor: \"#fff9c4\",\n          coordinates: JSON.parse(currData.coordinates)\n        }]\n      }));\n      this.setState({\n        displayMode: 3,\n        isLoading: false\n      });\n    });\n  }\n\n  handleStateClick(e, id) {\n    // Get counties of a selected state\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 7,\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.counties.map(currData => this.setState({\n        counties: [...this.state.counties, {\n          id: currData.id,\n          fillColor: \"#fff9c4\",\n          coordinates: JSON.parse(currData.coordinates)\n        }]\n      }));\n      this.setState({\n        displayMode: 2,\n        isLoading: false\n      });\n    });\n  }\n\n  handleStateSelect(id) {\n    // Selected Kentucky\n    if (id === 21) {\n      this.setState({\n        latitude: 37.84,\n        longitude: -84.27,\n        zoom: 7\n      });\n    } // Selected Louisiana\n    else if (id === 22) {\n        this.setState({\n          latitude: 30.98,\n          longitude: -91.96,\n          zoom: 7\n        });\n      } // Selected South Carolina\n      else if (id === 45) {\n          this.setState({\n            latitude: 33.84,\n            longitude: -81.16,\n            zoom: 7\n          });\n        } // Get counties of a selected state\n\n\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.counties.map(currData => this.setState({\n        counties: [...this.state.counties, {\n          id: currData.id,\n          fillColor: \"#fff9c4\",\n          coordinates: JSON.parse(currData.coordinates)\n        }]\n      }));\n      this.setState({\n        displayMode: 2,\n        isLoading: false\n      });\n    });\n  }\n\n  handleTableChange(oldValue, newValue, row) {\n    // DEBUG: Remove these lines below later\n    console.log(oldValue);\n    console.log(newValue);\n    console.log(row); // TODO: Make a POST request to the server with \"api/precinct\"\n    // fetch(\"api/precinct\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   body: JSON.stringify()\n    // })\n    //   .then((response) => response.json())\n    //   .then((data) => {\n    //     console.log(\"Success:\", data);\n    //   })\n    //   .catch((error) => {\n    //     console.error(\"Error:\", error);\n    //   });\n  }\n\n  handlePolygonCreated(e) {\n    // TODO: Push new precinct object to the precincts array\n    // TODO: Make a POST request to the server to add new precinct\n    console.log(e);\n  }\n\n  handlePolygonEdited(e) {\n    // TODO: Update new coordinates in the state object\n    // TODO: Make a POST request to the server to update precinct coordinates\n    e.layers.eachLayer(layer => {\n      console.log(layer.options.id);\n      console.log(layer.getLatLngs());\n      console.log(layer.toGeoJSON().geometry.coordinates);\n    });\n  }\n\n  handlePolygonDeleted(e) {// TODO: Delete precinct object from the precincts array\n    // TODO: Do not open side bar when clicking a precinct to delete\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/state/all\").then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.map(currData => this.setState({\n        states: [...this.state.states, {\n          id: currData.id,\n          fillColor: \"#fff9c4\",\n          coordinates: JSON.parse(currData.coordinates)\n        }]\n      }));\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    const position = [this.state.latitude, this.state.longitude];\n    const electionTableColumns = [{\n      dataField: \"election\",\n      text: \"Election\"\n    }, {\n      dataField: \"demVotes\",\n      text: \"Democratic Votes\"\n    }, {\n      dataField: \"repVotes\",\n      text: \"Republican Votes\"\n    }];\n    const demographicTableColumns = [{\n      dataField: \"population\",\n      text: \"Population (Precinct Level)\"\n    }];\n    const ethnicityTableColumns = [{\n      dataField: \"ethnicity\",\n      text: \"Ethnicity\"\n    }, {\n      dataField: \"population\",\n      text: \"Population (County Level)\"\n    }];\n    const logTableColumns = [{\n      dataField: \"id\",\n      text: \"Log ID\"\n    }, {\n      dataField: \"category\",\n      text: \"Error Category\"\n    }, {\n      dataField: \"comment\",\n      text: \"User Comment\"\n    }];\n    const dataSourceTableColumns = [{\n      dataField: \"name\",\n      text: \"Source Name\"\n    }, {\n      dataField: \"category\",\n      text: \"Data Category\"\n    }, {\n      dataField: \"url\",\n      text: \"Source URL\"\n    }];\n    return React.createElement(Styles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      right: true,\n      width: \"60%\",\n      menuClassName: \"menu-right\",\n      customBurgerIcon: false,\n      isOpen: this.state.sidebarOpen,\n      onStateChange: state => this.handleStateChange(state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      className: \"px-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582\n      },\n      __self: this\n    }, \"Canonical Name\"))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 585\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, \"Election Data\"))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"election\",\n      data: this.state.currPrecinct.electionData,\n      columns: electionTableColumns,\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true,\n        afterSaveCell: this.handleTableChange\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609\n      },\n      __self: this\n    }, \"Demographic Data\"))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"population\",\n      data: [],\n      columns: demographicTableColumns,\n      noDataIndication: \"Data Not Available for Now\",\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"ethnicity\",\n      data: this.state.currPrecinct.county.ethnicityData,\n      columns: ethnicityTableColumns,\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 631\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 645\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 647\n      },\n      __self: this\n    }, \"Corrections Log\"))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 651\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"id\",\n      data: [],\n      columns: logTableColumns,\n      noDataIndication: \"Data Not Available for Now\",\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 652\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669\n      },\n      __self: this\n    }, \"Data Sources\"))), React.createElement(Row, {\n      className: \"pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"name\",\n      data: [],\n      columns: dataSourceTableColumns,\n      noDataIndication: \"Data Not Available for Now\",\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674\n      },\n      __self: this\n    }))))), React.createElement(Modal, {\n      size: \"sm\",\n      show: this.state.isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 691\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694\n      },\n      __self: this\n    }, React.createElement(CubeGrid, {\n      size: 24,\n      color: \"#37474f\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695\n      },\n      __self: this\n    })), React.createElement(Col, {\n      className: \"pt-4\",\n      xs: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698\n      },\n      __self: this\n    }, \"Loading Data...\"))))), React.createElement(Container, {\n      fluid: true,\n      className: \"px-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 705\n      },\n      __self: this\n    }, React.createElement(Map, {\n      center: position,\n      zoomControl: false,\n      zoom: this.state.zoom,\n      onZoomEnd: e => this.handleZoomEnd(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 706\n      },\n      __self: this\n    }, React.createElement(ZoomControl, {\n      position: \"bottomleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 712\n      },\n      __self: this\n    }), React.createElement(LayersControl, {\n      position: \"bottomleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 713\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      url: \"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://stadiamaps.com/\\\">Stadia Maps</a>,  \\xA9 <a href=\\\"https://openmaptiles.org/\\\">OpenMapTiles</a>  \\xA9 <a href=\\\"http://openstreetmap.org\\\">OpenStreetMap</a> contributors\",\n      preferCanvas: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 714\n      },\n      __self: this\n    }), React.createElement(Control, {\n      position: \"topleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      vertical: true,\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722\n      },\n      __self: this\n    }, React.createElement(DropdownButton, {\n      as: ButtonGroup,\n      id: \"select-state-dropdown\",\n      drop: \"right\",\n      variant: \"light\",\n      size: \"sm\",\n      title: \"Select State\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(21),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 731\n      },\n      __self: this\n    }, \"Kentucky\"), React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(22),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 736\n      },\n      __self: this\n    }, \"Louisiana\"), React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(45),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741\n      },\n      __self: this\n    }, \"South Carolina\")), React.createElement(DropdownButton, {\n      as: ButtonGroup,\n      id: \"select-election-dropdown\",\n      drop: \"right\",\n      variant: \"light\",\n      size: \"sm\",\n      title: \"Select Election\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 755\n      },\n      __self: this\n    }, \"2016 Presidential\"), React.createElement(Dropdown.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 758\n      },\n      __self: this\n    }, \"2016 Congressional\"), React.createElement(Dropdown.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 761\n      },\n      __self: this\n    }, \"2018 Congressional\")), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 765\n      },\n      __self: this\n    }, \"Add Neighbor\"), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 768\n      },\n      __self: this\n    }, \"Delete Neighbor\"), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 771\n      },\n      __self: this\n    }, \"Merge Precincts\"))), React.createElement(Overlay, {\n      name: \"State Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 777\n      },\n      __self: this\n    }, this.state.states.map(state => {\n      if (this.state.displayMode == 1) {\n        return React.createElement(Polygon, {\n          id: state.id,\n          key: state.id,\n          positions: state.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: state.fillColor,\n          onClick: e => this.handleStateClick(e, state.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 781\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 796\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 797\n          },\n          __self: this\n        }, state.id)));\n      } else if (this.state.zoom < 7) {\n        return React.createElement(Polygon, {\n          id: state.id,\n          key: state.id,\n          positions: state.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: state.fillColor,\n          onClick: e => this.handleStateClick(e, state.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 803\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 818\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 819\n          },\n          __self: this\n        }, state.id)));\n      }\n    }))), React.createElement(Overlay, {\n      name: \"County Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 827\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 828\n      },\n      __self: this\n    }, this.state.counties.map(county => {\n      if (this.state.displayMode == 2) {\n        return React.createElement(Polygon, {\n          id: county.id,\n          key: county.id,\n          positions: county.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: county.fillColor,\n          onClick: e => this.handleCountyClick(e, county.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 832\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 847\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 848\n          },\n          __self: this\n        }, county.id)));\n      } else if (this.state.zoom < 9) {\n        return React.createElement(Polygon, {\n          id: county.id,\n          key: county.id,\n          positions: county.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: county.fillColor,\n          onClick: e => this.handleCountyClick(e, county.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 854\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 869\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 870\n          },\n          __self: this\n        }, county.id)));\n      }\n    }))), React.createElement(Overlay, {\n      name: \"Precinct Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 878\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 879\n      },\n      __self: this\n    }, this.state.precincts.map(precinct => {\n      if (this.state.displayMode == 3) {\n        return React.createElement(Polygon, {\n          id: precinct.id,\n          key: precinct.id,\n          positions: precinct.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: precinct.fillColor,\n          onClick: e => this.handlePrecinctClick(e, precinct.id),\n          onDblClick: e => this.handlePrecinctDblClick(e, precinct.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 883\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 901\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 902\n          },\n          __self: this\n        }, precinct.id)));\n      }\n    }))), React.createElement(Overlay, {\n      name: \"National Park Boundaries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 910\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 911\n      },\n      __self: this\n    }, this.state.nationalParks.map(park => {\n      return React.createElement(Polygon, {\n        id: park.id,\n        key: park.id,\n        positions: park.coordinates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 914\n        },\n        __self: this\n      });\n    }))), React.createElement(Overlay, {\n      name: \"Congressional District Boundaries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 923\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 924\n      },\n      __self: this\n    }, this.state.congDistricts.map(district => {\n      return React.createElement(Polygon, {\n        id: district.id,\n        key: district.id,\n        positions: district.coordinates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 927\n        },\n        __self: this\n      });\n    }))), React.createElement(Overlay, {\n      name: \"Sample Polygons\",\n      checked: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 936\n      },\n      __self: this\n    }, React.createElement(FeatureGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 937\n      },\n      __self: this\n    }, React.createElement(EditControl, {\n      position: \"bottomleft\",\n      onCreated: this.handlePolygonCreated,\n      onEdited: this.handlePolygonEdited,\n      onDeleted: this.handlePolygonDeleted,\n      draw: {\n        polyline: false,\n        circle: false,\n        marker: false,\n        circlemarker: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 938\n      },\n      __self: this\n    }), this.state.testPolygons.map(polygon => {\n      return React.createElement(Polygon, {\n        id: polygon.id,\n        key: polygon.id,\n        positions: polygon.coordinates,\n        smoothFactor: 1,\n        color: \"#102027\",\n        weight: 1,\n        fillOpacity: 0.5,\n        fillColor: polygon.fillColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 952\n        },\n        __self: this\n      });\n    })))))))));\n  }\n\n}\n\nexport default MapView;","map":{"version":3,"sources":["/Users/jay/Documents/election-data-quality/front-end/src/components/MapView.js"],"names":["React","Container","Row","Col","ButtonGroup","Button","Dropdown","DropdownButton","Modal","Map","ZoomControl","LayersControl","LayerGroup","TileLayer","FeatureGroup","Tooltip","Polygon","EditControl","Control","CubeGrid","slide","Menu","BootstrapTable","cellEditFactory","styled","Overlay","Styles","div","MapView","Component","constructor","props","state","latitude","longitude","zoom","displayMode","isLoading","sidebarOpen","currPrecinct","id","canonicalName","ghost","multipleBorder","adjPrecIds","enclPrecIds","demographicData","population","electionData","election","demVotes","repVotes","logBag","county","ethnicityData","ethnicity","coordinates","states","counties","precincts","nationalParks","congDistricts","testPolygons","fillColor","handleStateChange","setState","isOpen","handleMouseOver","e","target","openTooltip","handleMouseOut","closeTooltip","handleZoomEnd","_zoom","handlePrecinctClick","precinctsCopy","fetch","then","res","json","data","console","log","map","p","handlePrecinctDblClick","precinctsIndex","findIndex","el","latlng","lat","lng","demographicDataCopy","electionDataCopy","ethnicityDataCopy","white","africanAmer","asian","nativeAmer","pasifika","others","handleCountyClick","currData","JSON","parse","handleStateClick","handleStateSelect","handleTableChange","oldValue","newValue","row","handlePolygonCreated","handlePolygonEdited","layers","eachLayer","layer","options","getLatLngs","toGeoJSON","geometry","handlePolygonDeleted","componentDidMount","render","position","electionTableColumns","dataField","text","demographicTableColumns","ethnicityTableColumns","logTableColumns","dataSourceTableColumns","mode","blurToSave","afterSaveCell","precinct","park","district","polyline","circle","marker","circlemarker","polygon"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {\n  Map,\n  ZoomControl,\n  LayersControl,\n  LayerGroup,\n  TileLayer,\n  FeatureGroup,\n  Tooltip,\n  Polygon\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport Control from \"react-leaflet-control\";\nimport { CubeGrid } from \"styled-spinkit\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport styled from \"styled-components\";\n\nconst { Overlay } = LayersControl;\n\nconst Styles = styled.div`\n  .btn-light {\n    background-color: white;\n    border-color: black;\n    font-size: 12px;\n  }\n\n  .dropdown-item {\n    color: black;\n    font-size: 12px;\n  }\n\n  .form-check {\n    font-size: 12px;\n  }\n\n  .leaflet-container {\n    width: 100%;\n    height: 91.35vh;\n  }\n\n  // NOTE: helper classes below are from react-burger-menu library\n  /* Position and sizing of clickable cross button */\n  .bm-cross-button {\n    height: 24px;\n    width: 24px;\n  }\n\n  /* Color/shape of close button cross */\n  .bm-cross {\n    background: black;\n  }\n\n  /* Sidebar wrapper styles  */\n  .bm-menu-wrap {\n    position: fixed;\n    height: 100%;\n  }\n\n  /* General sidebar styles */\n  .bm-menu {\n    background: #cfd8dc;\n    padding: 2.5em 1.5em 0;\n    font-size: 1.15em;\n  }\n\n  /* Wrapper for item list */\n  .bm-item-list {\n    color: black;\n    padding: 0;\n  }\n\n  /* Individual item */\n  .bm-item {\n    display: inline-block;\n  }\n\n  /* Styling of overlay */\n  .bm-overlay {\n    background: rgba(0, 0, 0, 0.3);\n  }\n`;\n\nclass MapView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latitude: 34,\n      longitude: -85,\n      zoom: 6,\n      displayMode: 1,\n      isLoading: false,\n      sidebarOpen: false,\n      currPrecinct: {\n        id: null,\n        canonicalName: null,\n        ghost: null,\n        multipleBorder: null,\n        adjPrecIds: [],\n        enclPrecIds: [],\n        demographicData: [{ population: null }],\n        electionData: [\n          {\n            election: \"2016 Presidential\",\n            demVotes: null,\n            repVotes: null\n          },\n          {\n            election: \"2016 Congressional\",\n            demVotes: null,\n            repVotes: null\n          },\n          {\n            election: \"2018 Congressional\",\n            demVotes: null,\n            repVotes: null\n          }\n        ],\n        logBag: [],\n        county: {\n          id: null,\n          canonicalName: null,\n          ethnicityData: [\n            {\n              ethnicity: \"White\",\n              population: null\n            },\n            {\n              ethnicity: \"Black or African American\",\n              population: null\n            },\n            {\n              ethnicity: \"Asian or Asian American\",\n              population: null\n            },\n            {\n              ethnicity: \"American Indian\",\n              population: null\n            },\n            {\n              ethnicity: \"Pacific Islander\",\n              population: null\n            },\n            {\n              ethnicity: \"Others\",\n              population: null\n            }\n          ],\n          state: {\n            id: null,\n            canonicalName: null\n          }\n        },\n        coordinates: []\n        // TODO: Add more properties\n      },\n      states: [],\n      counties: [],\n      precincts: [],\n      // NOTE: The two features below are not supported yet\n      nationalParks: [],\n      congDistricts: [],\n      // NOTE: The feature below is for testing boundary correction\n      testPolygons: [\n        {\n          id: 1,\n          fillColor: \"#fff9c4\",\n          coordinates: [\n            [\n              [37, -85],\n              [38, -85],\n              [38, -84],\n              [37, -84]\n            ]\n          ]\n        },\n        {\n          id: 2,\n          fillColor: \"#fff9c4\",\n          coordinates: [\n            [\n              [37, -84],\n              [38, -84],\n              [37.5, -83.5],\n              [38, -83],\n              [37, -83]\n            ]\n          ]\n        }\n      ]\n    };\n  }\n\n  handleStateChange(state) {\n    this.setState({ sidebarOpen: state.isOpen });\n  }\n\n  handleMouseOver(e) {\n    e.target.openTooltip();\n  }\n\n  handleMouseOut(e) {\n    e.target.closeTooltip();\n  }\n\n  handleZoomEnd(e) {\n    if (e.target._zoom < 7 && this.state.displayMode == 2) {\n      this.setState({ zoom: e.target._zoom, displayMode: 1, counties: [] });\n    } else if (e.target._zoom < 10 && this.state.displayMode == 3) {\n      this.setState({ zoom: e.target._zoom, displayMode: 2, precincts: [] });\n    } else {\n      this.setState({ zoom: e.target._zoom });\n    }\n  }\n\n  handlePrecinctClick(e, id) {\n    // Modify map view\n    // const precinctsCopy = [...this.state.precincts];\n    // const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n    // precinctsCopy[precinctsIndex] = {\n    //   ...precinctsCopy[precinctsIndex],\n    //   fillColor: \"#cbc693\"\n    // };\n    // this.setState({\n    //   precincts: precinctsCopy\n    // });\n\n    // TODO\n    const precinctsCopy = [...this.state.precincts];\n    this.setState({ isLoading: true });\n    fetch(\"api/precinct/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        return data.adjPrecIds;\n      })\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        precinctsCopy.map((p) => {\n          if (p.id === id) {\n            p.fillColor = \"#ffffff\";\n          }\n        });\n        this.setState({\n          precincts: precinctsCopy\n        });\n        this.setState({ isLoading: false });\n      });\n  }\n\n  handlePrecinctDblClick(e, id) {\n    // Modify map view and change the fill color of a selected state\n    const precinctsCopy = [...this.state.precincts];\n    const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n    precinctsCopy[precinctsIndex] = {\n      ...precinctsCopy[precinctsIndex],\n      fillColor: \"#cbc693\"\n    };\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 12,\n      precincts: precinctsCopy\n    });\n\n    // Fetch a detailed information about a selected precinct\n    const demographicDataCopy = [...this.state.currPrecinct.demographicData];\n    const electionDataCopy = [...this.state.currPrecinct.electionData];\n    const ethnicityDataCopy = [...this.state.currPrecinct.county.ethnicityData];\n    this.setState({ isLoading: true });\n    fetch(\"api/precinct/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        // demographicDataCopy[0] = { population: data.population };\n        // electionDataCopy[0] = {\n        //   ...electionDataCopy[0],\n        //   demVotes: data.electionData.PRESIDENTIAL_16_DEM,\n        //   repVotes: data.electionData.PRESIDENTIAL_16_REP\n        // };\n        // electionDataCopy[1] = {\n        //   ...electionDataCopy[1],\n        //   demVotes: data.electionData.CONGRESSIONAL_16_DEM,\n        //   repVotes: data.electionData.CONGRESSIONAL_16_REP\n        // };\n        // electionDataCopy[2] = {\n        //   ...electionDataCopy[2],\n        //   demVotes: data.electionData.CONGRESSIONAL_18_DEM,\n        //   repVotes: data.electionData.CONGRESSIONAL_18_REP\n        // };\n        ethnicityDataCopy[0] = {\n          ...ethnicityDataCopy[0],\n          population: data.white\n        };\n        ethnicityDataCopy[1] = {\n          ...ethnicityDataCopy[1],\n          population: data.africanAmer\n        };\n        ethnicityDataCopy[2] = {\n          ...ethnicityDataCopy[2],\n          population: data.asian\n        };\n        ethnicityDataCopy[3] = {\n          ...ethnicityDataCopy[3],\n          population: data.nativeAmer\n        };\n        ethnicityDataCopy[4] = {\n          ...ethnicityDataCopy[4],\n          population: data.pasifika\n        };\n        ethnicityDataCopy[5] = {\n          ...ethnicityDataCopy[5],\n          population: data.others\n        };\n        this.setState({\n          currPrecinct: {\n            ...this.state.currPrecinct,\n            id: data.id,\n            canonicalName: data.canonicalName,\n            ghost: data.ghost,\n            multipleBorder: data.multipleBorder,\n            // demographicData: demographicDataCopy,\n            // electionData: electionDataCopy,\n            // TODO: add logBag\n            // logBag: [\n            //   ...this.state.currPrecinct.logBag,\n            //   {\n            //     id: null,\n            //     category: null,\n            //     comment: null\n            //   }\n            // ],\n            county: {\n              ethnicityData: ethnicityDataCopy\n            }\n            // TODO: Add more properties\n          }\n        });\n        this.setState({ isLoading: false, sidebarOpen: true });\n      });\n  }\n\n  handleCountyClick(e, id) {\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 10,\n      isLoading: true\n    });\n    fetch(\"api/county/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.precincts.map((currData) =>\n          this.setState({\n            precincts: [\n              ...this.state.precincts,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          })\n        );\n        this.setState({ displayMode: 3, isLoading: false });\n      });\n  }\n\n  handleStateClick(e, id) {\n    // Get counties of a selected state\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 7,\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.counties.map((currData) =>\n          this.setState({\n            counties: [\n              ...this.state.counties,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          })\n        );\n        this.setState({ displayMode: 2, isLoading: false });\n      });\n  }\n\n  handleStateSelect(id) {\n    // Selected Kentucky\n    if (id === 21) {\n      this.setState({ latitude: 37.84, longitude: -84.27, zoom: 7 });\n    }\n    // Selected Louisiana\n    else if (id === 22) {\n      this.setState({ latitude: 30.98, longitude: -91.96, zoom: 7 });\n    }\n    // Selected South Carolina\n    else if (id === 45) {\n      this.setState({ latitude: 33.84, longitude: -81.16, zoom: 7 });\n    }\n    // Get counties of a selected state\n    this.setState({ isLoading: true });\n    fetch(\"api/state/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.counties.map((currData) =>\n          this.setState({\n            counties: [\n              ...this.state.counties,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          })\n        );\n        this.setState({ displayMode: 2, isLoading: false });\n      });\n  }\n\n  handleTableChange(oldValue, newValue, row) {\n    // DEBUG: Remove these lines below later\n    console.log(oldValue);\n    console.log(newValue);\n    console.log(row);\n\n    // TODO: Make a POST request to the server with \"api/precinct\"\n    // fetch(\"api/precinct\", {\n    //   method: \"POST\",\n    //   headers: {\n    //     \"Content-Type\": \"application/json\"\n    //   },\n    //   body: JSON.stringify()\n    // })\n    //   .then((response) => response.json())\n    //   .then((data) => {\n    //     console.log(\"Success:\", data);\n    //   })\n    //   .catch((error) => {\n    //     console.error(\"Error:\", error);\n    //   });\n  }\n\n  handlePolygonCreated(e) {\n    // TODO: Push new precinct object to the precincts array\n    // TODO: Make a POST request to the server to add new precinct\n    console.log(e);\n  }\n\n  handlePolygonEdited(e) {\n    // TODO: Update new coordinates in the state object\n    // TODO: Make a POST request to the server to update precinct coordinates\n    e.layers.eachLayer((layer) => {\n      console.log(layer.options.id);\n      console.log(layer.getLatLngs());\n      console.log(layer.toGeoJSON().geometry.coordinates);\n    });\n  }\n\n  handlePolygonDeleted(e) {\n    // TODO: Delete precinct object from the precincts array\n    // TODO: Do not open side bar when clicking a precinct to delete\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    fetch(\"api/state/all\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.map((currData) =>\n          this.setState({\n            states: [\n              ...this.state.states,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          })\n        );\n        this.setState({ isLoading: false });\n      });\n  }\n\n  render() {\n    const position = [this.state.latitude, this.state.longitude];\n    const electionTableColumns = [\n      {\n        dataField: \"election\",\n        text: \"Election\"\n      },\n      {\n        dataField: \"demVotes\",\n        text: \"Democratic Votes\"\n      },\n      {\n        dataField: \"repVotes\",\n        text: \"Republican Votes\"\n      }\n    ];\n    const demographicTableColumns = [\n      {\n        dataField: \"population\",\n        text: \"Population (Precinct Level)\"\n      }\n    ];\n    const ethnicityTableColumns = [\n      {\n        dataField: \"ethnicity\",\n        text: \"Ethnicity\"\n      },\n      {\n        dataField: \"population\",\n        text: \"Population (County Level)\"\n      }\n    ];\n    const logTableColumns = [\n      {\n        dataField: \"id\",\n        text: \"Log ID\"\n      },\n      {\n        dataField: \"category\",\n        text: \"Error Category\"\n      },\n      {\n        dataField: \"comment\",\n        text: \"User Comment\"\n      }\n    ];\n    const dataSourceTableColumns = [\n      {\n        dataField: \"name\",\n        text: \"Source Name\"\n      },\n      {\n        dataField: \"category\",\n        text: \"Data Category\"\n      },\n      {\n        dataField: \"url\",\n        text: \"Source URL\"\n      }\n    ];\n    return (\n      <Styles>\n        <Menu\n          right\n          width={\"60%\"}\n          menuClassName={\"menu-right\"}\n          customBurgerIcon={false}\n          isOpen={this.state.sidebarOpen}\n          onStateChange={(state) => this.handleStateChange(state)}\n        >\n          <Container fluid className=\"px-0\">\n            <Row className=\"pb-2\">\n              <Col>\n                <h2>Canonical Name</h2>\n              </Col>\n            </Row>\n            <Row className=\"pb-1\">\n              <Col>\n                <h4>Election Data</h4>\n              </Col>\n            </Row>\n            <Row className=\"pb-2\">\n              <Col>\n                <BootstrapTable\n                  striped\n                  hover\n                  condensed\n                  keyField=\"election\"\n                  data={this.state.currPrecinct.electionData}\n                  columns={electionTableColumns}\n                  cellEdit={cellEditFactory({\n                    mode: \"click\",\n                    blurToSave: true,\n                    afterSaveCell: this.handleTableChange\n                  })}\n                />\n              </Col>\n            </Row>\n            <Row className=\"pb-1\">\n              <Col>\n                <h4>Demographic Data</h4>\n              </Col>\n            </Row>\n            <Row className=\"pb-1\">\n              <Col>\n                <BootstrapTable\n                  striped\n                  hover\n                  condensed\n                  keyField=\"population\"\n                  data={[]}\n                  columns={demographicTableColumns}\n                  noDataIndication=\"Data Not Available for Now\"\n                  cellEdit={cellEditFactory({\n                    mode: \"click\",\n                    blurToSave: true\n                  })}\n                />\n              </Col>\n            </Row>\n            <Row className=\"pb-2\">\n              <Col>\n                <BootstrapTable\n                  striped\n                  hover\n                  condensed\n                  keyField=\"ethnicity\"\n                  data={this.state.currPrecinct.county.ethnicityData}\n                  columns={ethnicityTableColumns}\n                  cellEdit={cellEditFactory({\n                    mode: \"click\",\n                    blurToSave: true\n                  })}\n                />\n              </Col>\n            </Row>\n            <Row className=\"pb-1\">\n              <Col>\n                <h4>Corrections Log</h4>\n              </Col>\n            </Row>\n            <Row className=\"pb-2\">\n              <Col>\n                <BootstrapTable\n                  striped\n                  hover\n                  condensed\n                  keyField=\"id\"\n                  data={[]}\n                  columns={logTableColumns}\n                  noDataIndication=\"Data Not Available for Now\"\n                  cellEdit={cellEditFactory({\n                    mode: \"click\",\n                    blurToSave: true\n                  })}\n                />\n              </Col>\n            </Row>\n            <Row className=\"pb-1\">\n              <Col>\n                <h4>Data Sources</h4>\n              </Col>\n            </Row>\n            <Row className=\"pb-5\">\n              <Col>\n                <BootstrapTable\n                  striped\n                  hover\n                  condensed\n                  keyField=\"name\"\n                  data={[]}\n                  columns={dataSourceTableColumns}\n                  noDataIndication=\"Data Not Available for Now\"\n                  cellEdit={cellEditFactory({\n                    mode: \"click\",\n                    blurToSave: true\n                  })}\n                />\n              </Col>\n            </Row>\n          </Container>\n        </Menu>\n        <Modal size=\"sm\" show={this.state.isLoading}>\n          <Container>\n            <Row>\n              <Col>\n                <CubeGrid size={24} color=\"#37474f\" />\n              </Col>\n              <Col className=\"pt-4\" xs={8}>\n                <h5>Loading Data...</h5>\n              </Col>\n            </Row>\n          </Container>\n        </Modal>\n        <Container fluid className=\"px-0\">\n          <Row>\n            <Col>\n              <Map\n                center={position}\n                zoomControl={false}\n                zoom={this.state.zoom}\n                onZoomEnd={(e) => this.handleZoomEnd(e)}\n              >\n                <ZoomControl position=\"bottomleft\" />\n                <LayersControl position=\"bottomleft\">\n                  <TileLayer\n                    url=\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\"\n                    attribution='&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, \n                    &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> \n                    &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\n                    preferCanvas={true}\n                  />\n                  <Control position=\"topleft\">\n                    <ButtonGroup vertical className=\"pb-2\">\n                      <DropdownButton\n                        as={ButtonGroup}\n                        id=\"select-state-dropdown\"\n                        drop=\"right\"\n                        variant=\"light\"\n                        size=\"sm\"\n                        title=\"Select State\"\n                      >\n                        <Dropdown.Item\n                          onSelect={() => this.handleStateSelect(21)}\n                        >\n                          Kentucky\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                          onSelect={() => this.handleStateSelect(22)}\n                        >\n                          Louisiana\n                        </Dropdown.Item>\n                        <Dropdown.Item\n                          onSelect={() => this.handleStateSelect(45)}\n                        >\n                          South Carolina\n                        </Dropdown.Item>\n                      </DropdownButton>\n                      <DropdownButton\n                        as={ButtonGroup}\n                        id=\"select-election-dropdown\"\n                        drop=\"right\"\n                        variant=\"light\"\n                        size=\"sm\"\n                        title=\"Select Election\"\n                      >\n                        <Dropdown.Item /* onSelect={} */>\n                          2016 Presidential\n                        </Dropdown.Item>\n                        <Dropdown.Item /* onSelect={} */>\n                          2016 Congressional\n                        </Dropdown.Item>\n                        <Dropdown.Item /* onSelect={} */>\n                          2018 Congressional\n                        </Dropdown.Item>\n                      </DropdownButton>\n                      <Button variant=\"light\" size=\"sm\">\n                        Add Neighbor\n                      </Button>\n                      <Button variant=\"light\" size=\"sm\">\n                        Delete Neighbor\n                      </Button>\n                      <Button variant=\"light\" size=\"sm\">\n                        Merge Precincts\n                      </Button>\n                    </ButtonGroup>\n                  </Control>\n                  <Overlay name=\"State Boundaries\" checked={true}>\n                    <LayerGroup>\n                      {this.state.states.map((state) => {\n                        if (this.state.displayMode == 1) {\n                          return (\n                            <Polygon\n                              id={state.id}\n                              key={state.id}\n                              positions={state.coordinates}\n                              smoothFactor={1}\n                              color={\"#102027\"}\n                              weight={1}\n                              fillOpacity={0.5}\n                              fillColor={state.fillColor}\n                              onClick={(e) =>\n                                this.handleStateClick(e, state.id)\n                              }\n                              onMouseOver={this.handleMouseOver}\n                              onMouseOut={this.handleMouseOut}\n                            >\n                              <Tooltip>\n                                <b>{state.id}</b>\n                              </Tooltip>\n                            </Polygon>\n                          );\n                        } else if (this.state.zoom < 7) {\n                          return (\n                            <Polygon\n                              id={state.id}\n                              key={state.id}\n                              positions={state.coordinates}\n                              smoothFactor={1}\n                              color={\"#102027\"}\n                              weight={1}\n                              fillOpacity={0.5}\n                              fillColor={state.fillColor}\n                              onClick={(e) =>\n                                this.handleStateClick(e, state.id)\n                              }\n                              onMouseOver={this.handleMouseOver}\n                              onMouseOut={this.handleMouseOut}\n                            >\n                              <Tooltip>\n                                <b>{state.id}</b>\n                              </Tooltip>\n                            </Polygon>\n                          );\n                        }\n                      })}\n                    </LayerGroup>\n                  </Overlay>\n                  <Overlay name=\"County Boundaries\" checked={true}>\n                    <LayerGroup>\n                      {this.state.counties.map((county) => {\n                        if (this.state.displayMode == 2) {\n                          return (\n                            <Polygon\n                              id={county.id}\n                              key={county.id}\n                              positions={county.coordinates}\n                              smoothFactor={1}\n                              color={\"#102027\"}\n                              weight={1}\n                              fillOpacity={0.5}\n                              fillColor={county.fillColor}\n                              onClick={(e) =>\n                                this.handleCountyClick(e, county.id)\n                              }\n                              onMouseOver={this.handleMouseOver}\n                              onMouseOut={this.handleMouseOut}\n                            >\n                              <Tooltip>\n                                <b>{county.id}</b>\n                              </Tooltip>\n                            </Polygon>\n                          );\n                        } else if (this.state.zoom < 9) {\n                          return (\n                            <Polygon\n                              id={county.id}\n                              key={county.id}\n                              positions={county.coordinates}\n                              smoothFactor={1}\n                              color={\"#102027\"}\n                              weight={1}\n                              fillOpacity={0.5}\n                              fillColor={county.fillColor}\n                              onClick={(e) =>\n                                this.handleCountyClick(e, county.id)\n                              }\n                              onMouseOver={this.handleMouseOver}\n                              onMouseOut={this.handleMouseOut}\n                            >\n                              <Tooltip>\n                                <b>{county.id}</b>\n                              </Tooltip>\n                            </Polygon>\n                          );\n                        }\n                      })}\n                    </LayerGroup>\n                  </Overlay>\n                  <Overlay name=\"Precinct Boundaries\" checked={true}>\n                    <LayerGroup>\n                      {this.state.precincts.map((precinct) => {\n                        if (this.state.displayMode == 3) {\n                          return (\n                            <Polygon\n                              id={precinct.id}\n                              key={precinct.id}\n                              positions={precinct.coordinates}\n                              smoothFactor={1}\n                              color={\"#102027\"}\n                              weight={1}\n                              fillOpacity={0.5}\n                              fillColor={precinct.fillColor}\n                              onClick={(e) =>\n                                this.handlePrecinctClick(e, precinct.id)\n                              }\n                              onDblClick={(e) =>\n                                this.handlePrecinctDblClick(e, precinct.id)\n                              }\n                              onMouseOver={this.handleMouseOver}\n                              onMouseOut={this.handleMouseOut}\n                            >\n                              <Tooltip>\n                                <b>{precinct.id}</b>\n                              </Tooltip>\n                            </Polygon>\n                          );\n                        }\n                      })}\n                    </LayerGroup>\n                  </Overlay>\n                  <Overlay name=\"National Park Boundaries\">\n                    <LayerGroup>\n                      {this.state.nationalParks.map((park) => {\n                        return (\n                          <Polygon\n                            id={park.id}\n                            key={park.id}\n                            positions={park.coordinates}\n                          />\n                        );\n                      })}\n                    </LayerGroup>\n                  </Overlay>\n                  <Overlay name=\"Congressional District Boundaries\">\n                    <LayerGroup>\n                      {this.state.congDistricts.map((district) => {\n                        return (\n                          <Polygon\n                            id={district.id}\n                            key={district.id}\n                            positions={district.coordinates}\n                          />\n                        );\n                      })}\n                    </LayerGroup>\n                  </Overlay>\n                  <Overlay name=\"Sample Polygons\" checked={false}>\n                    <FeatureGroup>\n                      <EditControl\n                        position=\"bottomleft\"\n                        onCreated={this.handlePolygonCreated}\n                        onEdited={this.handlePolygonEdited}\n                        onDeleted={this.handlePolygonDeleted}\n                        draw={{\n                          polyline: false,\n                          circle: false,\n                          marker: false,\n                          circlemarker: false\n                        }}\n                      />\n                      {this.state.testPolygons.map((polygon) => {\n                        return (\n                          <Polygon\n                            id={polygon.id}\n                            key={polygon.id}\n                            positions={polygon.coordinates}\n                            smoothFactor={1}\n                            color={\"#102027\"}\n                            weight={1}\n                            fillOpacity={0.5}\n                            fillColor={polygon.fillColor}\n                          />\n                        );\n                      })}\n                    </FeatureGroup>\n                  </Overlay>\n                </LayersControl>\n              </Map>\n            </Col>\n          </Row>\n        </Container>\n      </Styles>\n    );\n  }\n}\n\nexport default MapView;\n"]},"metadata":{},"sourceType":"module"}
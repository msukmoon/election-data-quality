{"ast":null,"code":"var _jsxFileName = \"/Users/jay/Documents/election-data-quality/front-end/src/components/MapView.js\";\nimport React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { Map, ZoomControl, LayersControl, LayerGroup, TileLayer, FeatureGroup, Tooltip, Polygon } from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport Control from \"react-leaflet-control\";\nimport { polygon, multiPolygon, union } from \"@turf/turf\";\nimport { CubeGrid } from \"styled-spinkit\";\nimport NumberFormat from \"react-number-format\";\nimport { push as Menu } from \"react-burger-menu\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport styled from \"styled-components\";\nconst {\n  Overlay\n} = LayersControl;\nconst Styles = styled.div`\n  /* Style of bootstrap buttons */\n  .btn-light {\n    background-color: white;\n    border-color: black;\n    font-size: 1em;\n  }\n\n  /* Style of bootstrap dropdowns */\n  .dropdown-item {\n    color: black;\n    font-size: 1em;\n  }\n\n  /* Sizing of leaflet map */\n  .leaflet-container {\n    width: 100%;\n    height: 91.35vh;\n  }\n\n  /* Position and sizing of clickable cross button */\n  .bm-cross-button {\n    height: 32px; !important\n    width: 32px; !important\n  }\n\n  /* Color/shape of close button cross */\n  .bm-cross {\n    background: #37474f;\n  }\n\n  /* Sidebar wrapper styles */\n  .bm-menu-wrap {\n    position: fixed;\n    height: 100%;\n  }\n\n  /* General sidebar styles */\n  .bm-menu {\n    background: #eceff1;\n    padding: 0 1.5em;\n    font-size: 1em;\n  }\n\n  /* Wrapper for item list */\n  .bm-item-list {\n    padding: 0;\n  }\n\n  /* Individual item */\n  .bm-item {\n    display: inline-block;\n    outline: none;\n  }\n`;\n\nclass MapView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latitude: 34,\n      longitude: -85,\n      zoom: 6,\n      displayMode: 1,\n      editMode: 1,\n      isLoading: false,\n      sidebarOpen: false,\n      currPrecinct: {\n        id: null,\n        selected: false,\n        precinctsIndex: null,\n        canonicalName: null,\n        ghost: null,\n        multipleBorder: null,\n        demoModified: null,\n        adjPrecIds: [],\n        enclPrecIds: [],\n        interPrecIds: [],\n        electionData: [{\n          election: \"2016 Presidential\",\n          demVotes: null,\n          repVotes: null\n        }, {\n          election: \"2016 Congressional\",\n          demVotes: null,\n          repVotes: null\n        }, {\n          election: \"2018 Congressional\",\n          demVotes: null,\n          repVotes: null\n        }],\n        ethnicityData: [{\n          ethnicity: \"White\",\n          population: null\n        }, {\n          ethnicity: \"Black or African American\",\n          population: null\n        }, {\n          ethnicity: \"Asian or Asian American\",\n          population: null\n        }, {\n          ethnicity: \"Native American\",\n          population: null\n        }, {\n          ethnicity: \"Pacific Islander\",\n          population: null\n        }, {\n          ethnicity: \"Others\",\n          population: null\n        }, {\n          ethnicity: \"Total\",\n          population: null\n        }],\n        dataSources: [{\n          id: 1,\n          name: null,\n          category: null,\n          url: null\n        }, {\n          id: 2,\n          name: null,\n          category: null,\n          url: null\n        }, {\n          id: 3,\n          name: null,\n          category: null,\n          url: null\n        }, {\n          id: 4,\n          name: null,\n          category: null,\n          url: null\n        }, {\n          id: 5,\n          name: null,\n          category: null,\n          url: null\n        }],\n        logBag: [],\n        coordinates: [] // TODO: Add more properties\n\n      },\n      states: [],\n      counties: [],\n      precincts: [],\n      // NOTE: The two features below are not supported yet\n      nationalParks: [],\n      congDistricts: [],\n      // NOTE: The feature below is for testing boundary correction\n      testPolygons: [{\n        id: 1,\n        fillColor: \"#fff9c4\",\n        coordinates: [[[37, -85], [37.25, -84.75], [38, -85], [38, -84], [37, -84]]]\n      }, {\n        id: 2,\n        fillColor: \"#fff9c4\",\n        coordinates: [[[37, -84], [38, -84], [38.5, -83.5], [38, -83], [37, -83]]]\n      }]\n    };\n  }\n\n  handleStateChange(state) {\n    this.setState({\n      sidebarOpen: state.isOpen\n    }); // TODO: Delete this if not needed\n    // if (state.isOpen === false) {\n    //   this.setState({\n    //     sidebarOpen: state.isOpen,\n    //     currPrecinct: { ...this.state.currPrecinct, selected: false }\n    //   });\n    // } else {\n    //   this.setState({ sidebarOpen: state.isOpen });\n    // }\n  }\n\n  handleMouseOver(e) {\n    e.target.openTooltip();\n  }\n\n  handleMouseOut(e) {\n    e.target.closeTooltip();\n  }\n\n  handleZoomEnd(e) {\n    if (e.target._zoom < 7 && this.state.displayMode === 2) {\n      this.setState({\n        zoom: e.target._zoom,\n        displayMode: 1,\n        counties: []\n      });\n    } else if (e.target._zoom < 10 && this.state.displayMode === 3) {\n      this.setState({\n        zoom: e.target._zoom,\n        displayMode: 2,\n        precincts: []\n      });\n    } else {\n      this.setState({\n        zoom: e.target._zoom\n      });\n    }\n  }\n\n  handleViewNeighbors() {\n    if (this.state.editMode === 2) {\n      this.setState({\n        editMode: 1\n      });\n    } else {\n      this.setState({\n        editMode: 2\n      });\n    }\n  }\n\n  handleAddNeighbor() {\n    if (this.state.editMode === 3) {\n      this.setState({\n        editMode: 1\n      });\n    } else {\n      this.setState({\n        editMode: 3\n      });\n    }\n  }\n\n  handleDeleteNeighbor() {\n    if (this.state.editMode === 4) {\n      this.setState({\n        editMode: 1\n      });\n    } else {\n      this.setState({\n        editMode: 4\n      });\n    }\n  }\n\n  handleMergePrecincts() {\n    if (this.state.editMode === 5) {\n      this.setState({\n        editMode: 1\n      });\n    } else {\n      this.setState({\n        editMode: 5\n      });\n    }\n  }\n\n  handlePrecinctClick(e, id) {\n    // Display precinct data mode\n    if (this.state.editMode === 1) {\n      // Modify map view and change the fill color of a selected state\n      const precinctsCopy = [...this.state.precincts];\n\n      if (this.state.currPrecinct.precinctsIndex !== null) {\n        precinctsCopy[this.state.currPrecinct.precinctsIndex] = { ...precinctsCopy[this.state.currPrecinct.precinctsIndex],\n          fillColor: \"#fff9c4\"\n        };\n      }\n\n      const newPrecinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n      precinctsCopy[newPrecinctsIndex] = { ...precinctsCopy[newPrecinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      this.setState({\n        latitude: e.latlng.lat,\n        longitude: e.latlng.lng - 0.1,\n        zoom: 12,\n        isLoading: true,\n        sidebarOpen: false,\n        currPrecinct: { ...this.state.currPrecinct,\n          precinctsIndex: newPrecinctsIndex\n        },\n        precincts: precinctsCopy\n      }); // Fetch a detailed data about a selected precinct\n\n      const electionDataCopy = [...this.state.currPrecinct.electionData];\n      const ethnicityDataCopy = [...this.state.currPrecinct.ethnicityData];\n      const dataSourcesCopy = [...this.state.currPrecinct.dataSources];\n      const countyStateIds = id.split(\"-\", 2);\n      fetch(\"api/precinct/\" + id).then(res => res.json()).then(data => {\n        console.log(data); // DEBUG: Remove this line later\n\n        electionDataCopy[0] = { ...electionDataCopy[0],\n          demVotes: data.electionData.PRESIDENTIAL_16_DEM,\n          repVotes: data.electionData.PRESIDENTIAL_16_REP\n        };\n        electionDataCopy[1] = { ...electionDataCopy[1],\n          demVotes: data.electionData.CONGRESSIONAL_16_DEM,\n          repVotes: data.electionData.CONGRESSIONAL_16_REP\n        };\n        electionDataCopy[2] = { ...electionDataCopy[2],\n          demVotes: data.electionData.CONGRESSIONAL_18_DEM,\n          repVotes: data.electionData.CONGRESSIONAL_18_REP\n        };\n        ethnicityDataCopy[0] = { ...ethnicityDataCopy[0],\n          population: data.white\n        };\n        ethnicityDataCopy[1] = { ...ethnicityDataCopy[1],\n          population: data.africanAmer\n        };\n        ethnicityDataCopy[2] = { ...ethnicityDataCopy[2],\n          population: data.asian\n        };\n        ethnicityDataCopy[3] = { ...ethnicityDataCopy[3],\n          population: data.nativeAmer\n        };\n        ethnicityDataCopy[4] = { ...ethnicityDataCopy[4],\n          population: data.pasifika\n        };\n        ethnicityDataCopy[5] = { ...ethnicityDataCopy[5],\n          population: data.others\n        };\n        ethnicityDataCopy[6] = { ...ethnicityDataCopy[6],\n          population: data.white + data.africanAmer + data.asian + data.nativeAmer + data.pasifika + data.others\n        };\n\n        if (countyStateIds[0] === 21) {\n          dataSourcesCopy[0] = { ...dataSourcesCopy[0],\n            name: \"Code For America\",\n            category: \"Geographic\",\n            url: \"https://codeforamerica.carto.com/u/civicdataalliance/tables/ky_voting_precinct_geographic_outlines_and_data/public\"\n          };\n          dataSourcesCopy[1] = { ...dataSourcesCopy[1],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[2] = { ...dataSourcesCopy[2],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[3] = { ...dataSourcesCopy[3],\n            name: \"Open Elections\",\n            category: \"Election\",\n            url: \"https://github.com/openelections/openelections-data-ky\"\n          };\n          dataSourcesCopy[4] = { ...dataSourcesCopy[4],\n            name: \"US Census\",\n            category: \"Demographic\",\n            url: \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20Kentucky%20race&g=0400000US21.050000&tid=ACSDT5Y2018.B02001&layer=county&vintage=2018\"\n          };\n        } else if (countyStateIds[0] === 22) {\n          dataSourcesCopy[0] = { ...dataSourcesCopy[1],\n            name: \"Election GeoData\",\n            category: \"Geographic\",\n            url: \"https://github.com/nvkelso/election-geodata/tree/master/data/22-louisiana/statewide/2016\"\n          };\n          dataSourcesCopy[1] = { ...dataSourcesCopy[0],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[2] = { ...dataSourcesCopy[2],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[3] = { ...dataSourcesCopy[3],\n            name: \"Open Elections\",\n            category: \"Election\",\n            url: \"https://github.com/openelections/openelections-data-la\"\n          };\n          dataSourcesCopy[4] = { ...dataSourcesCopy[4],\n            name: \"US Census\",\n            category: \"Demographic\",\n            url: \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20Louisiana%20race&g=0400000US22.050000&tid=ACSDT5Y2018.B02001&layer=county&cid=DP05_0001E&vintage=2018\"\n          };\n        } else {\n          dataSourcesCopy[0] = { ...dataSourcesCopy[0],\n            name: \"Election GeoData\",\n            category: \"Geographic\",\n            url: \"https://github.com/nvkelso/election-geodata/tree/master/data/45-south-carolina/statewide/2013\"\n          };\n          dataSourcesCopy[1] = { ...dataSourcesCopy[1],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[2] = { ...dataSourcesCopy[2],\n            name: \"US Census\",\n            category: \"Geographic\",\n            url: \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n          };\n          dataSourcesCopy[3] = { ...dataSourcesCopy[3],\n            name: \"Open Elections\",\n            category: \"Election\",\n            url: \"https://github.com/openelections/openelections-data-sc\"\n          };\n          dataSourcesCopy[4] = { ...dataSourcesCopy[4],\n            name: \"US Census\",\n            category: \"Demographic\",\n            url: \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20South%20Carolina%20race&g=0400000US45.050000&tid=ACSDT5Y2018.B02001&layer=county&cid=DP05_0001E&vintage=2018\"\n          };\n        }\n\n        this.setState({\n          isLoading: false,\n          sidebarOpen: true,\n          currPrecinct: { ...this.state.currPrecinct,\n            id: data.id,\n            canonicalName: data.canonicalName,\n            ghost: data.ghost,\n            multipleBorder: data.multipleBorder,\n            demoModified: data.demoModified,\n            adjPrecIds: data.adjPrecIds,\n            enclPrecIds: data.enclPrecIds,\n            interPrecIds: data.interPrecIds,\n            electionData: electionDataCopy,\n            ethnicityData: ethnicityDataCopy,\n            dataSources: dataSourcesCopy,\n            logBag: data.logBag\n          }\n        });\n      });\n    } // View neighbors mode\n    else if (this.state.editMode === 2) {\n        // Fetch a data of a selected precinct and then highlight its neighbors\n        const precinctsCopy = [...this.state.precincts];\n        precinctsCopy.forEach(precinct => {\n          precinct.fillColor = \"#fff9c4\";\n        });\n        const precinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n        precinctsCopy[precinctsIndex] = { ...precinctsCopy[precinctsIndex],\n          fillColor: \"#c8b900\"\n        };\n        this.setState({\n          isLoading: true\n        });\n        fetch(\"api/precinct/\" + id).then(res => res.json()).then(data => {\n          console.log(data); // DEBUG: Remove this line later\n\n          data.adjPrecIds.forEach(adjPrecId => {\n            precinctsCopy.forEach(precinct => {\n              if (precinct.id === adjPrecId) {\n                precinct.fillColor = \"#ffeb3b\";\n              }\n            });\n          });\n          this.setState({\n            editMode: 1,\n            isLoading: false,\n            precincts: precinctsCopy\n          });\n        });\n      } // Add neighbor mode\n      else if (this.state.editMode === 3) {\n          // Highlight a selected precinct\n          const precinctsCopy = [...this.state.precincts];\n          const precinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n          precinctsCopy[precinctsIndex] = { ...precinctsCopy[precinctsIndex],\n            fillColor: \"#c8b900\"\n          };\n\n          if (this.state.currPrecinct.selected === false) {\n            this.setState({\n              currPrecinct: { ...this.state.currPrecinct,\n                id: id,\n                selected: true\n              },\n              precincts: precinctsCopy\n            });\n          } else {\n            this.setState({\n              editMode: 1,\n              isLoading: true,\n              currPrecinct: { ...this.state.currPrecinct,\n                selected: false\n              },\n              precincts: precinctsCopy\n            });\n            Promise.all([fetch(\"api/precinct/\" + this.state.currPrecinct.id), fetch(\"api/precinct/\" + id)]).then(async ([res1, res2]) => {\n              const currPrecinctData = await res1.json();\n              const nextPrecinctData = await res2.json();\n              return [currPrecinctData, nextPrecinctData];\n            }).then(data => {\n              console.log(data); // DEBUG: Remove this line later\n              // Update adjPrecIds array\n\n              data[0].adjPrecIds.push(data[1].id);\n              data[1].adjPrecIds.push(data[0].id); // Get county and state ids\n\n              const countyStateIds = data[0].id.split(\"-\", 2); // Make a PUT request to the server with \"api/precinct\"\n\n              let isDoneLoading = false;\n              fetch(\"api/precinct\", {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  \"id\": data[0].id,\n                  \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                  \"stateId\": countyStateIds[0],\n                  \"ghost\": data[0].ghost,\n                  \"multipleBorder\": data[0].multipleBorder,\n                  \"electionData\": {\n                    \"CONGRESSIONAL_16_DEM\": data[0].CONGRESSIONAL_16_DEM,\n                    \"PRESIDENTIAL_16_REP\": data[0].PRESIDENTIAL_16_REP,\n                    \"CONGRESSIONAL_18_DEM\": data[0].CONGRESSIONAL_18_DEM,\n                    \"CONGRESSIONAL_16_REP\": data[0].CONGRESSIONAL_16_REP,\n                    \"CONGRESSIONAL_18_REP\": data[0].CONGRESSIONAL_18_REP,\n                    \"PRESIDENTIAL_16_DEM\": data[0].PRESIDENTIAL_16_DEM\n                  },\n                  \"adjPrecIds\": data[0].adjPrecIds,\n                  \"enclPrecIds\": data[0].enclPrecIds,\n                  \"interPrecIds\": data[0].interPrecIds,\n                  \"logBag\": data[0].logBag,\n                  \"canonicalName\": data[0].canonicalName,\n                  \"demoModified\": data[0].demoModified,\n                  \"white\": data[0].white,\n                  \"africanAmer\": data[0].africanAmer,\n                  \"asian\": data[0].asian,\n                  \"nativeAmer\": data[0].nativeAmer,\n                  \"others\": data[0].others,\n                  \"pasifika\": data[0].pasifika\n                })\n              }).then(res => res.json()).then(data => {\n                console.log(\"Success:\", data);\n\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              }).catch(error => {\n                console.error(\"Error:\", error);\n              }); // Make a PUT request to the server with \"api/precinct\"\n\n              fetch(\"api/precinct\", {\n                method: \"PUT\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                  \"id\": data[1].id,\n                  \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                  \"stateId\": countyStateIds[0],\n                  \"ghost\": data[1].ghost,\n                  \"multipleBorder\": data[1].multipleBorder,\n                  \"electionData\": {\n                    \"CONGRESSIONAL_16_DEM\": data[1].CONGRESSIONAL_16_DEM,\n                    \"PRESIDENTIAL_16_REP\": data[1].PRESIDENTIAL_16_REP,\n                    \"CONGRESSIONAL_18_DEM\": data[1].CONGRESSIONAL_18_DEM,\n                    \"CONGRESSIONAL_16_REP\": data[1].CONGRESSIONAL_16_REP,\n                    \"CONGRESSIONAL_18_REP\": data[1].CONGRESSIONAL_18_REP,\n                    \"PRESIDENTIAL_16_DEM\": data[1].PRESIDENTIAL_16_DEM\n                  },\n                  \"adjPrecIds\": data[1].adjPrecIds,\n                  \"enclPrecIds\": data[1].enclPrecIds,\n                  \"interPrecIds\": data[1].interPrecIds,\n                  \"logBag\": data[1].logBag,\n                  \"canonicalName\": data[1].canonicalName,\n                  \"demoModified\": data[1].demoModified,\n                  \"white\": data[1].white,\n                  \"africanAmer\": data[1].africanAmer,\n                  \"asian\": data[1].asian,\n                  \"nativeAmer\": data[1].nativeAmer,\n                  \"others\": data[1].others,\n                  \"pasifika\": data[1].pasifika\n                })\n              }).then(res => res.json()).then(data => {\n                console.log(\"Success:\", data);\n\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              }).catch(error => {\n                console.error(\"Error:\", error);\n              });\n            }).catch(error => {\n              console.log(error);\n            });\n          }\n        } // Delete neighbor mode\n        else if (this.state.editMode === 4) {\n            // Highlight a selected precinct\n            const precinctsCopy = [...this.state.precincts];\n            const precinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n            precinctsCopy[precinctsIndex] = { ...precinctsCopy[precinctsIndex],\n              fillColor: \"#c8b900\"\n            };\n\n            if (this.state.currPrecinct.selected === false) {\n              this.setState({\n                currPrecinct: { ...this.state.currPrecinct,\n                  id: id,\n                  selected: true\n                },\n                precincts: precinctsCopy\n              });\n            } else {\n              this.setState({\n                editMode: 1,\n                isLoading: true,\n                currPrecinct: { ...this.state.currPrecinct,\n                  selected: false\n                },\n                precincts: precinctsCopy\n              });\n              Promise.all([fetch(\"api/precinct/\" + this.state.currPrecinct.id), fetch(\"api/precinct/\" + id)]).then(async ([res1, res2]) => {\n                const currPrecinctData = await res1.json();\n                const nextPrecinctData = await res2.json();\n                return [currPrecinctData, nextPrecinctData];\n              }).then(data => {\n                console.log(data); // DEBUG: Remove this line later\n                // Remove old polygons from the precincts array\n\n                const index1 = data[0].adjPrecIds.findIndex(el => el.id === data[1].id);\n                const index2 = data[1].adjPrecIds.findIndex(el => el.id === data[0].id);\n                data[0].splice(index1, 1);\n                data[1].splice(index2, 1); // Get county and state ids\n\n                const countyStateIds = data[0].id.split(\"-\", 2); // Make a PUT request to the server with \"api/precinct\"\n\n                let isDoneLoading = false;\n                fetch(\"api/precinct\", {\n                  method: \"PUT\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    \"id\": data[0].id,\n                    \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                    \"stateId\": countyStateIds[0],\n                    \"ghost\": data[0].ghost,\n                    \"multipleBorder\": data[0].multipleBorder,\n                    \"electionData\": {\n                      \"CONGRESSIONAL_16_DEM\": data[0].CONGRESSIONAL_16_DEM,\n                      \"PRESIDENTIAL_16_REP\": data[0].PRESIDENTIAL_16_REP,\n                      \"CONGRESSIONAL_18_DEM\": data[0].CONGRESSIONAL_18_DEM,\n                      \"CONGRESSIONAL_16_REP\": data[0].CONGRESSIONAL_16_REP,\n                      \"CONGRESSIONAL_18_REP\": data[0].CONGRESSIONAL_18_REP,\n                      \"PRESIDENTIAL_16_DEM\": data[0].PRESIDENTIAL_16_DEM\n                    },\n                    \"adjPrecIds\": data[0].adjPrecIds,\n                    \"enclPrecIds\": data[0].enclPrecIds,\n                    \"interPrecIds\": data[0].interPrecIds,\n                    \"logBag\": data[0].logBag,\n                    \"canonicalName\": data[0].canonicalName,\n                    \"demoModified\": data[0].demoModified,\n                    \"white\": data[0].white,\n                    \"africanAmer\": data[0].africanAmer,\n                    \"asian\": data[0].asian,\n                    \"nativeAmer\": data[0].nativeAmer,\n                    \"others\": data[0].others,\n                    \"pasifika\": data[0].pasifika\n                  })\n                }).then(res => res.json()).then(data => {\n                  console.log(\"Success:\", data);\n\n                  if (isDoneLoading === true) {\n                    this.setState({\n                      editMode: 1,\n                      displayMode: 3,\n                      isLoading: false\n                    });\n                  } else {\n                    isDoneLoading = true;\n                  }\n                }).catch(error => {\n                  console.error(\"Error:\", error);\n                }); // Make a PUT request to the server with \"api/precinct\"\n\n                fetch(\"api/precinct\", {\n                  method: \"PUT\",\n                  headers: {\n                    \"Content-Type\": \"application/json\"\n                  },\n                  body: JSON.stringify({\n                    \"id\": data[1].id,\n                    \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                    \"stateId\": countyStateIds[0],\n                    \"ghost\": data[1].ghost,\n                    \"multipleBorder\": data[1].multipleBorder,\n                    \"electionData\": {\n                      \"CONGRESSIONAL_16_DEM\": data[1].CONGRESSIONAL_16_DEM,\n                      \"PRESIDENTIAL_16_REP\": data[1].PRESIDENTIAL_16_REP,\n                      \"CONGRESSIONAL_18_DEM\": data[1].CONGRESSIONAL_18_DEM,\n                      \"CONGRESSIONAL_16_REP\": data[1].CONGRESSIONAL_16_REP,\n                      \"CONGRESSIONAL_18_REP\": data[1].CONGRESSIONAL_18_REP,\n                      \"PRESIDENTIAL_16_DEM\": data[1].PRESIDENTIAL_16_DEM\n                    },\n                    \"adjPrecIds\": data[1].adjPrecIds,\n                    \"enclPrecIds\": data[1].enclPrecIds,\n                    \"interPrecIds\": data[1].interPrecIds,\n                    \"logBag\": data[1].logBag,\n                    \"canonicalName\": data[1].canonicalName,\n                    \"demoModified\": data[1].demoModified,\n                    \"white\": data[1].white,\n                    \"africanAmer\": data[1].africanAmer,\n                    \"asian\": data[1].asian,\n                    \"nativeAmer\": data[1].nativeAmer,\n                    \"others\": data[1].others,\n                    \"pasifika\": data[1].pasifika\n                  })\n                }).then(res => res.json()).then(data => {\n                  console.log(\"Success:\", data);\n\n                  if (isDoneLoading === true) {\n                    this.setState({\n                      editMode: 1,\n                      displayMode: 3,\n                      isLoading: false\n                    });\n                  } else {\n                    isDoneLoading = true;\n                  }\n                }).catch(error => {\n                  console.error(\"Error:\", error);\n                });\n              }).catch(error => {\n                console.log(error);\n              });\n            }\n          } // Merge precincts mode\n          else if (this.state.editMode === 5) {\n              // Highlight a selected precinct\n              const precinctsCopy = [...this.state.precincts];\n              const precinctsIndex = precinctsCopy.findIndex(el => el.id === id);\n              precinctsCopy[precinctsIndex] = { ...precinctsCopy[precinctsIndex],\n                fillColor: \"#c8b900\"\n              };\n\n              if (this.state.currPrecinct.selected === false) {\n                this.setState({\n                  currPrecinct: { ...this.state.currPrecinct,\n                    id: id,\n                    precinctsIndex: precinctsIndex,\n                    selected: true,\n                    coordinates: precinctsCopy[precinctsIndex].coordinates\n                  },\n                  precincts: precinctsCopy\n                });\n              } else {\n                // Merge polygons and get its new coordinates\n                let currPolygon;\n                let nextPolygon;\n\n                if (this.state.currPrecinct.coordinates[0][0][0][0] === undefined) {\n                  currPolygon = polygon(this.state.currPrecinct.coordinates);\n                } else {\n                  currPolygon = multiPolygon(this.state.currPrecinct.coordinates);\n                }\n\n                if (precinctsCopy[precinctsIndex].coordinates[0][0][0][0] === undefined) {\n                  nextPolygon = polygon(precinctsCopy[precinctsIndex].coordinates);\n                } else {\n                  nextPolygon = multiPolygon(precinctsCopy[precinctsIndex].coordinates);\n                }\n\n                const newPolygon = union(currPolygon, nextPolygon); // Remove old polygons from the precincts array\n\n                let precinctsIndexs;\n\n                if (this.state.currPrecinct.precinctsIndex > precinctsIndex) {\n                  precinctsIndexs = [precinctsIndex, this.state.currPrecinct.precinctsIndex];\n                } else {\n                  precinctsIndexs = [this.state.currPrecinct.precinctsIndex, precinctsIndex];\n                }\n\n                while (precinctsIndexs.length) {\n                  precinctsCopy.splice(precinctsIndexs.pop(), 1);\n                }\n\n                this.setState({\n                  editMode: 1,\n                  currPrecinct: { ...this.state.currPrecinct,\n                    selected: false\n                  },\n                  precincts: [...precinctsCopy, {\n                    id: this.state.currPrecinct.id,\n                    fillColor: \"#c8b900\",\n                    coordinates: newPolygon.geometry.coordinates\n                  }]\n                });\n                this.setState({\n                  isLoading: true\n                });\n                fetch(\"api/precinct/\" + this.state.currPrecinct.id).then(res => res.json()).then(data => {\n                  console.log(data); // DEBUG: Remove this line later\n                  // Get county and state ids\n\n                  const countyStateIds = data.id.split(\"-\", 2); // Make a DELETE request to the server with \"api/precinct/merge\"\n\n                  fetch(\"api/precinct/merge\", {\n                    method: \"DELETE\",\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                      \"id\": data.id,\n                      \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                      \"stateId\": countyStateIds[0],\n                      \"ghost\": data.ghost,\n                      \"multipleBorder\": data.multipleBorder,\n                      \"electionData\": {\n                        \"CONGRESSIONAL_16_DEM\": data.CONGRESSIONAL_16_DEM,\n                        \"PRESIDENTIAL_16_REP\": data.PRESIDENTIAL_16_REP,\n                        \"CONGRESSIONAL_18_DEM\": data.CONGRESSIONAL_18_DEM,\n                        \"CONGRESSIONAL_16_REP\": data.CONGRESSIONAL_16_REP,\n                        \"CONGRESSIONAL_18_REP\": data.CONGRESSIONAL_18_REP,\n                        \"PRESIDENTIAL_16_DEM\": data.PRESIDENTIAL_16_DEM\n                      },\n                      \"adjPrecIds\": data.adjPrecIds,\n                      \"enclPrecIds\": data.enclPrecIds,\n                      \"interPrecIds\": data.interPrecIds,\n                      \"logBag\": data.logBag,\n                      \"canonicalName\": data.canonicalName,\n                      \"demoModified\": data.demoModified,\n                      \"white\": data.white,\n                      \"africanAmer\": data.africanAmer,\n                      \"asian\": data.asian,\n                      \"nativeAmer\": data.nativeAmer,\n                      \"others\": data.others,\n                      \"pasifika\": data.pasifika,\n                      \"mergeHolder\": id,\n                      \"coordinates\": JSON.stringify(newPolygon.geometry.coordinates)\n                    })\n                  }).then(res => res.json()).then(data => {\n                    console.log(\"Success:\", data);\n                  }).catch(error => {\n                    console.error(\"Error:\", error);\n                  });\n                  this.setState({\n                    editMode: 1,\n                    isLoading: false\n                  });\n                });\n              }\n            }\n  }\n\n  handleCountyClick(e, id) {\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 10,\n      isLoading: true\n    });\n    fetch(\"api/county/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.precincts.forEach(currData => {\n        this.setState({\n          precincts: [...this.state.precincts, {\n            id: currData.id,\n            fillColor: currData.ghost ? \"#607d8b\" : \"#fff9c4\",\n            // fillColor: currData.ghost\n            //   ? \"#607d8b\"\n            //   : currData.error\n            //   ? \"#ff8a50\"\n            //   : \"#fff9c4\",\n            ghost: currData.ghost,\n            // error: currData.error,\n            coordinates: JSON.parse(currData.coordinates)\n          }]\n        });\n      });\n      this.setState({\n        displayMode: 3,\n        isLoading: false\n      });\n    });\n  }\n\n  handleStateClick(e, id) {\n    // Get counties of a selected state\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 7,\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.counties.forEach(currData => {\n        this.setState({\n          counties: [...this.state.counties, {\n            id: currData.id,\n            fillColor: currData.hasError ? \"#ff8a50\" : \"#fff9c4\",\n            coordinates: JSON.parse(currData.coordinates)\n          }]\n        });\n      });\n      this.setState({\n        displayMode: 2,\n        isLoading: false\n      });\n    });\n  }\n\n  handleStateSelect(id) {\n    // Selected Kentucky\n    if (id === 21) {\n      this.setState({\n        latitude: 37.84,\n        longitude: -84.27,\n        zoom: 7\n      });\n    } // Selected Louisiana\n    else if (id === 22) {\n        this.setState({\n          latitude: 30.98,\n          longitude: -91.96,\n          zoom: 7\n        });\n      } // Selected South Carolina\n      else if (id === 45) {\n          this.setState({\n            latitude: 33.84,\n            longitude: -81.16,\n            zoom: 7\n          });\n        } // Get counties of a selected state\n\n\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id).then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.counties.forEach(currData => {\n        this.setState({\n          counties: [...this.state.counties, {\n            id: currData.id,\n            fillColor: \"#fff9c4\",\n            coordinates: JSON.parse(currData.coordinates)\n          }]\n        });\n      });\n      this.setState({\n        displayMode: 2,\n        isLoading: false\n      });\n    });\n  }\n\n  handleTableChange() {\n    // Get county and state ids\n    const countyStateIds = this.state.currPrecinct.id.split(\"-\", 2); // Make a PUT request to the server with \"api/precinct\"\n\n    if (this.state.currPrecinct.ghost === true) {\n      this.setState({\n        currPrecinct: { ...this.state.currPrecinct,\n          ghose: false\n        },\n        isLoading: true\n      });\n    } else {\n      this.setState({\n        isLoading: true\n      });\n    }\n\n    fetch(\"api/precinct\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"id\": this.state.currPrecinct.id,\n        \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n        \"stateId\": countyStateIds[0],\n        \"ghost\": this.state.currPrecinct.ghost,\n        \"multipleBorder\": this.state.currPrecinct.multipleBorder,\n        \"electionData\": {\n          \"CONGRESSIONAL_16_DEM\": this.state.currPrecinct.electionData[1].demVotes,\n          \"PRESIDENTIAL_16_REP\": this.state.currPrecinct.electionData[0].repVotes,\n          \"CONGRESSIONAL_18_DEM\": this.state.currPrecinct.electionData[2].demVotes,\n          \"CONGRESSIONAL_16_REP\": this.state.currPrecinct.electionData[1].repVotes,\n          \"CONGRESSIONAL_18_REP\": this.state.currPrecinct.electionData[2].repVotes,\n          \"PRESIDENTIAL_16_DEM\": this.state.currPrecinct.electionData[0].demVotes\n        },\n        \"adjPrecIds\": this.state.currPrecinct.adjPrecIds,\n        \"enclPrecIds\": this.state.currPrecinct.enclPrecIds,\n        \"interPrecIds\": this.state.currPrecinct.interPrecIds,\n        \"logBag\": this.state.currPrecinct.logBag,\n        \"canonicalName\": this.state.currPrecinct.canonicalName,\n        \"demoModified\": this.state.currPrecinct.demoModified,\n        \"white\": this.state.currPrecinct.ethnicityData[0].population,\n        \"africanAmer\": this.state.currPrecinct.ethnicityData[1].population,\n        \"asian\": this.state.currPrecinct.ethnicityData[2].population,\n        \"nativeAmer\": this.state.currPrecinct.ethnicityData[3].population,\n        \"others\": this.state.currPrecinct.ethnicityData[5].population,\n        \"pasifika\": this.state.currPrecinct.ethnicityData[4].population\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(\"Success:\", data);\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  }\n\n  handlePolygonCreated(e) {\n    // TODO: Push new precinct object to the precincts array\n    // TODO: Make a POST request to the server to add new precinct\n    console.log(e);\n  }\n\n  handlePolygonEdited(e) {\n    // TODO: Update new coordinates in the state object\n    // TODO: Make a POST request to the server to update precinct coordinates\n    e.layers.eachLayer(layer => {\n      console.log(layer.options.id);\n      console.log(layer.getLatLngs());\n      console.log(layer.toGeoJSON().geometry.coordinates);\n    });\n  }\n\n  handlePolygonDeleted(e) {// TODO: Delete precinct object from the precincts array\n    // TODO: Do not open side bar when clicking a precinct to delete\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    fetch(\"api/state/all\").then(res => res.json()).then(data => {\n      console.log(data); // DEBUG: Remove this line later\n\n      data.forEach(currData => {\n        this.setState({\n          states: [...this.state.states, {\n            id: currData.id,\n            fillColor: \"#fff9c4\",\n            coordinates: JSON.parse(currData.coordinates)\n          }]\n        });\n      });\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  formatLink(data) {\n    return React.createElement(Button, {\n      variant: \"link\",\n      href: data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1182\n      },\n      __self: this\n    }, \"View Source\") // <a href={cell} target=\"_blank\">\n    //   See mail\n    // </a>\n    ;\n  }\n\n  formatNumber(data) {\n    return React.createElement(NumberFormat, {\n      value: data,\n      displayType: \"text\",\n      thousandSeparator: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1193\n      },\n      __self: this\n    });\n  }\n\n  validateNumber(data) {\n    if (isNaN(data)) {\n      return {\n        valid: false,\n        message: \"Input should be numeric\"\n      };\n    } else if (data < 0) {\n      return {\n        valid: false,\n        message: \"Input cannot be less than zero\"\n      };\n    } else if (data > 0 && data !== data.replace(/^0+/, \"\")) {\n      return {\n        valid: false,\n        message: \"Input cannot have a leading zero\"\n      };\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const position = [this.state.latitude, this.state.longitude];\n    const electionTableColumns = [{\n      dataField: \"election\",\n      text: \"Election\"\n    }, {\n      dataField: \"demVotes\",\n      text: \"Democratic Votes\",\n      formatter: this.formatNumber,\n      validator: this.validateNumber\n    }, {\n      dataField: \"repVotes\",\n      text: \"Republican Votes\",\n      formatter: this.formatNumber,\n      validator: this.validateNumber\n    }];\n    const ethnicityTableColumns = [{\n      dataField: \"ethnicity\",\n      text: \"Ethnicity\"\n    }, {\n      dataField: \"population\",\n      text: \"Population\",\n      formatter: this.formatNumber,\n      validator: this.validateNumber\n    }];\n    const logTableColumns = [{\n      dataField: \"id\",\n      text: \"Log ID\"\n    }, {\n      dataField: \"category\",\n      text: \"Error Category\"\n    }, {\n      dataField: \"comment\",\n      text: \"User Comment\"\n    }];\n    const dataSourceTableColumns = [{\n      dataField: \"name\",\n      text: \"Source Name\"\n    }, {\n      dataField: \"category\",\n      text: \"Data Category\"\n    }, {\n      dataField: \"url\",\n      text: \"Source URL\",\n      formatter: this.formatLink\n    }];\n    return React.createElement(Styles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1284\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"outer-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1285\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      size: \"sm\",\n      show: this.state.isLoading,\n      onHide: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1286\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1287\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1288\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1289\n      },\n      __self: this\n    }, React.createElement(CubeGrid, {\n      size: 24,\n      color: \"#37474f\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1290\n      },\n      __self: this\n    })), React.createElement(Col, {\n      className: \"pt-4\",\n      xs: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1292\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1293\n      },\n      __self: this\n    }, \"Loading Data...\"))))), React.createElement(Menu, {\n      right: true,\n      noOverlay: true,\n      disableOverlayClick: true,\n      pageWrapId: \"page-wrap\",\n      outerContainerId: \"outer-container\",\n      menuClassName: \"menu-right\",\n      width: \"37%\",\n      customBurgerIcon: false,\n      isOpen: this.state.sidebarOpen,\n      onStateChange: state => this.handleStateChange(state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1298\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      className: \"px-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1310\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"pt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1311\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1312\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1313\n      },\n      __self: this\n    }, this.state.currPrecinct.id))), React.createElement(Row, {\n      className: \"py-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1316\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1317\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1318\n      },\n      __self: this\n    }, \"Election Data\"))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1321\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1322\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"election\",\n      data: this.state.currPrecinct.electionData,\n      columns: electionTableColumns,\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true,\n        afterSaveCell: () => this.handleTableChange()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1323\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1338\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1339\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1340\n      },\n      __self: this\n    }, \"County Demographic Data\"))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1343\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1344\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"ethnicity\",\n      data: this.state.currPrecinct.ethnicityData,\n      columns: ethnicityTableColumns,\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true,\n        afterSaveCell: () => this.handleTableChange()\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1345\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1360\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1361\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1362\n      },\n      __self: this\n    }, \"Corrections Log\"))), React.createElement(Row, {\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1365\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1366\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"id\",\n      data: [],\n      columns: logTableColumns,\n      noDataIndication: \"Data Not Available for Now\",\n      cellEdit: cellEditFactory({\n        mode: \"click\",\n        blurToSave: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1367\n      },\n      __self: this\n    }))), React.createElement(Row, {\n      className: \"pb-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1382\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1383\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1384\n      },\n      __self: this\n    }, \"Data Sources\"))), React.createElement(Row, {\n      className: \"pb-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1387\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1388\n      },\n      __self: this\n    }, React.createElement(BootstrapTable, {\n      striped: true,\n      hover: true,\n      condensed: true,\n      keyField: \"id\",\n      data: this.state.currPrecinct.dataSources,\n      columns: dataSourceTableColumns // noDataIndication=\"Data Not Available for Now\"\n      // cellEdit={cellEditFactory({\n      //   mode: \"click\",\n      //   blurToSave: true\n      // })}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1389\n      },\n      __self: this\n    }))))), React.createElement(\"main\", {\n      id: \"page-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1406\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      className: \"px-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1407\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1408\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1409\n      },\n      __self: this\n    }, React.createElement(Map, {\n      center: position,\n      zoomControl: false,\n      zoom: this.state.zoom,\n      onZoomEnd: e => this.handleZoomEnd(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1410\n      },\n      __self: this\n    }, React.createElement(ZoomControl, {\n      position: \"bottomleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1416\n      },\n      __self: this\n    }), React.createElement(LayersControl, {\n      position: \"bottomleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1417\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      url: \"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://stadiamaps.com/\\\">Stadia Maps</a>,  \\xA9 <a href=\\\"https://openmaptiles.org/\\\">OpenMapTiles</a>  \\xA9 <a href=\\\"http://openstreetmap.org\\\">OpenStreetMap</a> contributors\",\n      preferCanvas: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1418\n      },\n      __self: this\n    }), React.createElement(Control, {\n      position: \"topleft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1425\n      },\n      __self: this\n    }, React.createElement(ButtonGroup, {\n      vertical: true,\n      className: \"pb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1426\n      },\n      __self: this\n    }, React.createElement(DropdownButton, {\n      as: ButtonGroup,\n      id: \"select-state-dropdown\",\n      drop: \"right\",\n      variant: \"light\",\n      size: \"sm\",\n      title: \"Select State\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1427\n      },\n      __self: this\n    }, React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(21),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1435\n      },\n      __self: this\n    }, \"Kentucky\"), React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(22),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1440\n      },\n      __self: this\n    }, \"Louisiana\"), React.createElement(Dropdown.Item, {\n      onSelect: () => this.handleStateSelect(45),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1445\n      },\n      __self: this\n    }, \"South Carolina\")), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      active: this.state.editMode === 2 ? true : false,\n      onClick: () => this.handleViewNeighbors(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1451\n      },\n      __self: this\n    }, \"View Neighbors\"), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      active: this.state.editMode === 3 ? true : false,\n      onClick: () => this.handleAddNeighbor(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1459\n      },\n      __self: this\n    }, \"Add Neighbor\"), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      active: this.state.editMode === 4 ? true : false,\n      onClick: () => this.handleDeleteNeighbor(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1467\n      },\n      __self: this\n    }, \"Delete Neighbor\"), React.createElement(Button, {\n      variant: \"light\",\n      size: \"sm\",\n      active: this.state.editMode === 5 ? true : false,\n      onClick: () => this.handleMergePrecincts(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1475\n      },\n      __self: this\n    }, \"Merge Precincts\"))), React.createElement(Overlay, {\n      name: \"State Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1485\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1486\n      },\n      __self: this\n    }, this.state.states.map(state => {\n      if (this.state.displayMode === 1) {\n        return React.createElement(Polygon, {\n          id: state.id,\n          key: state.id,\n          positions: state.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: state.fillColor,\n          onClick: e => this.handleStateClick(e, state.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1490\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1505\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1506\n          },\n          __self: this\n        }, state.id)));\n      } else if (this.state.zoom < 7) {\n        return React.createElement(Polygon, {\n          id: state.id,\n          key: state.id,\n          positions: state.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: state.fillColor,\n          onClick: e => this.handleStateClick(e, state.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1512\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1527\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1528\n          },\n          __self: this\n        }, state.id)));\n      } else {\n        return null;\n      }\n    }))), React.createElement(Overlay, {\n      name: \"County Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1538\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1539\n      },\n      __self: this\n    }, this.state.counties.map(county => {\n      if (this.state.displayMode === 2) {\n        return React.createElement(Polygon, {\n          id: county.id,\n          key: county.id,\n          positions: county.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: county.fillColor,\n          onClick: e => this.handleCountyClick(e, county.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1543\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1558\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1559\n          },\n          __self: this\n        }, county.id)));\n      } else if (this.state.zoom < 9) {\n        return React.createElement(Polygon, {\n          id: county.id,\n          key: county.id,\n          positions: county.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: county.fillColor,\n          onClick: e => this.handleCountyClick(e, county.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1565\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1580\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1581\n          },\n          __self: this\n        }, county.id)));\n      } else {\n        return null;\n      }\n    }))), React.createElement(Overlay, {\n      name: \"Precinct Boundaries\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1591\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1592\n      },\n      __self: this\n    }, this.state.precincts.map(precinct => {\n      if (this.state.displayMode === 3) {\n        return React.createElement(Polygon, {\n          id: precinct.id,\n          key: precinct.id,\n          positions: precinct.coordinates,\n          smoothFactor: 1,\n          color: \"#102027\",\n          weight: 1,\n          fillOpacity: 0.5,\n          fillColor: precinct.fillColor,\n          onClick: e => this.handlePrecinctClick(e, precinct.id),\n          onMouseOver: this.handleMouseOver,\n          onMouseOut: this.handleMouseOut,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1596\n          },\n          __self: this\n        }, React.createElement(Tooltip, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1611\n          },\n          __self: this\n        }, React.createElement(\"b\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1612\n          },\n          __self: this\n        }, precinct.id)));\n      } else {\n        return null;\n      }\n    }))), React.createElement(Overlay, {\n      name: \"National Park Boundaries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1622\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1623\n      },\n      __self: this\n    }, this.state.nationalParks.map(park => {\n      return React.createElement(Polygon, {\n        id: park.id,\n        key: park.id,\n        positions: park.coordinates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1626\n        },\n        __self: this\n      });\n    }))), React.createElement(Overlay, {\n      name: \"Congressional District Boundaries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1635\n      },\n      __self: this\n    }, React.createElement(LayerGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1636\n      },\n      __self: this\n    }, this.state.congDistricts.map(district => {\n      return React.createElement(Polygon, {\n        id: district.id,\n        key: district.id,\n        positions: district.coordinates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1639\n        },\n        __self: this\n      });\n    }))), React.createElement(Overlay, {\n      name: \"Sample Polygons\",\n      checked: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1648\n      },\n      __self: this\n    }, React.createElement(FeatureGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1649\n      },\n      __self: this\n    }, React.createElement(EditControl, {\n      position: \"bottomleft\",\n      onCreated: this.handlePolygonCreated,\n      onEdited: this.handlePolygonEdited,\n      onDeleted: this.handlePolygonDeleted,\n      draw: {\n        polyline: false,\n        circle: false,\n        marker: false,\n        circlemarker: false\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1650\n      },\n      __self: this\n    }), this.state.testPolygons.map(polygon => {\n      return React.createElement(Polygon, {\n        id: polygon.id,\n        key: polygon.id,\n        positions: polygon.coordinates,\n        smoothFactor: 1,\n        color: \"#102027\",\n        weight: 1,\n        fillOpacity: 0.5,\n        fillColor: polygon.fillColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1664\n        },\n        __self: this\n      });\n    })))))))))));\n  }\n\n}\n\nexport default MapView;","map":{"version":3,"sources":["/Users/jay/Documents/election-data-quality/front-end/src/components/MapView.js"],"names":["React","Container","Row","Col","ButtonGroup","Button","Dropdown","DropdownButton","Modal","Map","ZoomControl","LayersControl","LayerGroup","TileLayer","FeatureGroup","Tooltip","Polygon","EditControl","Control","polygon","multiPolygon","union","CubeGrid","NumberFormat","push","Menu","BootstrapTable","cellEditFactory","styled","Overlay","Styles","div","MapView","Component","constructor","props","state","latitude","longitude","zoom","displayMode","editMode","isLoading","sidebarOpen","currPrecinct","id","selected","precinctsIndex","canonicalName","ghost","multipleBorder","demoModified","adjPrecIds","enclPrecIds","interPrecIds","electionData","election","demVotes","repVotes","ethnicityData","ethnicity","population","dataSources","name","category","url","logBag","coordinates","states","counties","precincts","nationalParks","congDistricts","testPolygons","fillColor","handleStateChange","setState","isOpen","handleMouseOver","e","target","openTooltip","handleMouseOut","closeTooltip","handleZoomEnd","_zoom","handleViewNeighbors","handleAddNeighbor","handleDeleteNeighbor","handleMergePrecincts","handlePrecinctClick","precinctsCopy","newPrecinctsIndex","findIndex","el","latlng","lat","lng","electionDataCopy","ethnicityDataCopy","dataSourcesCopy","countyStateIds","split","fetch","then","res","json","data","console","log","PRESIDENTIAL_16_DEM","PRESIDENTIAL_16_REP","CONGRESSIONAL_16_DEM","CONGRESSIONAL_16_REP","CONGRESSIONAL_18_DEM","CONGRESSIONAL_18_REP","white","africanAmer","asian","nativeAmer","pasifika","others","forEach","precinct","adjPrecId","Promise","all","res1","res2","currPrecinctData","nextPrecinctData","isDoneLoading","method","headers","body","JSON","stringify","catch","error","index1","index2","splice","currPolygon","nextPolygon","undefined","newPolygon","precinctsIndexs","length","pop","geometry","handleCountyClick","currData","parse","handleStateClick","hasError","handleStateSelect","handleTableChange","ghose","handlePolygonCreated","handlePolygonEdited","layers","eachLayer","layer","options","getLatLngs","toGeoJSON","handlePolygonDeleted","componentDidMount","formatLink","formatNumber","validateNumber","isNaN","valid","message","replace","render","position","electionTableColumns","dataField","text","formatter","validator","ethnicityTableColumns","logTableColumns","dataSourceTableColumns","mode","blurToSave","afterSaveCell","map","county","park","district","polyline","circle","marker","circlemarker"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {\n  Map,\n  ZoomControl,\n  LayersControl,\n  LayerGroup,\n  TileLayer,\n  FeatureGroup,\n  Tooltip,\n  Polygon\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport Control from \"react-leaflet-control\";\nimport { polygon, multiPolygon, union } from \"@turf/turf\";\nimport { CubeGrid } from \"styled-spinkit\";\nimport NumberFormat from \"react-number-format\";\nimport { push as Menu } from \"react-burger-menu\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport cellEditFactory from \"react-bootstrap-table2-editor\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport styled from \"styled-components\";\n\nconst { Overlay } = LayersControl;\n\nconst Styles = styled.div`\n  /* Style of bootstrap buttons */\n  .btn-light {\n    background-color: white;\n    border-color: black;\n    font-size: 1em;\n  }\n\n  /* Style of bootstrap dropdowns */\n  .dropdown-item {\n    color: black;\n    font-size: 1em;\n  }\n\n  /* Sizing of leaflet map */\n  .leaflet-container {\n    width: 100%;\n    height: 91.35vh;\n  }\n\n  /* Position and sizing of clickable cross button */\n  .bm-cross-button {\n    height: 32px; !important\n    width: 32px; !important\n  }\n\n  /* Color/shape of close button cross */\n  .bm-cross {\n    background: #37474f;\n  }\n\n  /* Sidebar wrapper styles */\n  .bm-menu-wrap {\n    position: fixed;\n    height: 100%;\n  }\n\n  /* General sidebar styles */\n  .bm-menu {\n    background: #eceff1;\n    padding: 0 1.5em;\n    font-size: 1em;\n  }\n\n  /* Wrapper for item list */\n  .bm-item-list {\n    padding: 0;\n  }\n\n  /* Individual item */\n  .bm-item {\n    display: inline-block;\n    outline: none;\n  }\n`;\n\nclass MapView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latitude: 34,\n      longitude: -85,\n      zoom: 6,\n      displayMode: 1,\n      editMode: 1,\n      isLoading: false,\n      sidebarOpen: false,\n      currPrecinct: {\n        id: null,\n        selected: false,\n        precinctsIndex: null,\n        canonicalName: null,\n        ghost: null,\n        multipleBorder: null,\n        demoModified: null,\n        adjPrecIds: [],\n        enclPrecIds: [],\n        interPrecIds: [],\n        electionData: [\n          {\n            election: \"2016 Presidential\",\n            demVotes: null,\n            repVotes: null\n          },\n          {\n            election: \"2016 Congressional\",\n            demVotes: null,\n            repVotes: null\n          },\n          {\n            election: \"2018 Congressional\",\n            demVotes: null,\n            repVotes: null\n          }\n        ],\n        ethnicityData: [\n          {\n            ethnicity: \"White\",\n            population: null\n          },\n          {\n            ethnicity: \"Black or African American\",\n            population: null\n          },\n          {\n            ethnicity: \"Asian or Asian American\",\n            population: null\n          },\n          {\n            ethnicity: \"Native American\",\n            population: null\n          },\n          {\n            ethnicity: \"Pacific Islander\",\n            population: null\n          },\n          {\n            ethnicity: \"Others\",\n            population: null\n          },\n          {\n            ethnicity: \"Total\",\n            population: null\n          }\n        ],\n        dataSources: [\n          {\n            id: 1,\n            name: null,\n            category: null,\n            url: null\n          },\n          {\n            id: 2,\n            name: null,\n            category: null,\n            url: null\n          },\n          {\n            id: 3,\n            name: null,\n            category: null,\n            url: null\n          },\n          {\n            id: 4,\n            name: null,\n            category: null,\n            url: null\n          },\n          {\n            id: 5,\n            name: null,\n            category: null,\n            url: null\n          }\n        ],\n        logBag: [],\n        coordinates: []\n        // TODO: Add more properties\n      },\n      states: [],\n      counties: [],\n      precincts: [],\n      // NOTE: The two features below are not supported yet\n      nationalParks: [],\n      congDistricts: [],\n      // NOTE: The feature below is for testing boundary correction\n      testPolygons: [\n        {\n          id: 1,\n          fillColor: \"#fff9c4\",\n          coordinates: [\n            [\n              [37, -85],\n              [37.25, -84.75],\n              [38, -85],\n              [38, -84],\n              [37, -84]\n            ]\n          ]\n        },\n        {\n          id: 2,\n          fillColor: \"#fff9c4\",\n          coordinates: [\n            [\n              [37, -84],\n              [38, -84],\n              [38.5, -83.5],\n              [38, -83],\n              [37, -83]\n            ]\n          ]\n        }\n      ]\n    };\n  }\n\n  handleStateChange(state) {\n    this.setState({ sidebarOpen: state.isOpen });\n\n    // TODO: Delete this if not needed\n    // if (state.isOpen === false) {\n    //   this.setState({\n    //     sidebarOpen: state.isOpen,\n    //     currPrecinct: { ...this.state.currPrecinct, selected: false }\n    //   });\n    // } else {\n    //   this.setState({ sidebarOpen: state.isOpen });\n    // }\n  }\n\n  handleMouseOver(e) {\n    e.target.openTooltip();\n  }\n\n  handleMouseOut(e) {\n    e.target.closeTooltip();\n  }\n\n  handleZoomEnd(e) {\n    if (e.target._zoom < 7 && this.state.displayMode === 2) {\n      this.setState({ zoom: e.target._zoom, displayMode: 1, counties: [] });\n    } else if (e.target._zoom < 10 && this.state.displayMode === 3) {\n      this.setState({ zoom: e.target._zoom, displayMode: 2, precincts: [] });\n    } else {\n      this.setState({ zoom: e.target._zoom });\n    }\n  }\n\n  handleViewNeighbors() {\n    if (this.state.editMode === 2) {\n      this.setState({ editMode: 1 });\n    } else {\n      this.setState({ editMode: 2 });\n    }\n  }\n\n  handleAddNeighbor() {\n    if (this.state.editMode === 3) {\n      this.setState({ editMode: 1 });\n    } else {\n      this.setState({ editMode: 3 });\n    }\n  }\n\n  handleDeleteNeighbor() {\n    if (this.state.editMode === 4) {\n      this.setState({ editMode: 1 });\n    } else {\n      this.setState({ editMode: 4 });\n    }\n  }\n\n  handleMergePrecincts() {\n    if (this.state.editMode === 5) {\n      this.setState({ editMode: 1 });\n    } else {\n      this.setState({ editMode: 5 });\n    }\n  }\n\n  handlePrecinctClick(e, id) {\n    // Display precinct data mode\n    if (this.state.editMode === 1) {\n      // Modify map view and change the fill color of a selected state\n      const precinctsCopy = [...this.state.precincts];\n      if (this.state.currPrecinct.precinctsIndex !== null) {\n        precinctsCopy[this.state.currPrecinct.precinctsIndex] = {\n          ...precinctsCopy[this.state.currPrecinct.precinctsIndex],\n          fillColor: \"#fff9c4\"\n        };\n      }\n      const newPrecinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n      precinctsCopy[newPrecinctsIndex] = {\n        ...precinctsCopy[newPrecinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      this.setState({\n        latitude: e.latlng.lat,\n        longitude: e.latlng.lng - 0.1,\n        zoom: 12,\n        isLoading: true,\n        sidebarOpen: false,\n        currPrecinct: {\n          ...this.state.currPrecinct,\n          precinctsIndex: newPrecinctsIndex\n        },\n        precincts: precinctsCopy\n      });\n\n      // Fetch a detailed data about a selected precinct\n      const electionDataCopy = [...this.state.currPrecinct.electionData];\n      const ethnicityDataCopy = [...this.state.currPrecinct.ethnicityData];\n      const dataSourcesCopy = [...this.state.currPrecinct.dataSources];\n      const countyStateIds = id.split(\"-\", 2);\n      fetch(\"api/precinct/\" + id)\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data); // DEBUG: Remove this line later\n          electionDataCopy[0] = {\n            ...electionDataCopy[0],\n            demVotes: data.electionData.PRESIDENTIAL_16_DEM,\n            repVotes: data.electionData.PRESIDENTIAL_16_REP\n          };\n          electionDataCopy[1] = {\n            ...electionDataCopy[1],\n            demVotes: data.electionData.CONGRESSIONAL_16_DEM,\n            repVotes: data.electionData.CONGRESSIONAL_16_REP\n          };\n          electionDataCopy[2] = {\n            ...electionDataCopy[2],\n            demVotes: data.electionData.CONGRESSIONAL_18_DEM,\n            repVotes: data.electionData.CONGRESSIONAL_18_REP\n          };\n          ethnicityDataCopy[0] = {\n            ...ethnicityDataCopy[0],\n            population: data.white\n          };\n          ethnicityDataCopy[1] = {\n            ...ethnicityDataCopy[1],\n            population: data.africanAmer\n          };\n          ethnicityDataCopy[2] = {\n            ...ethnicityDataCopy[2],\n            population: data.asian\n          };\n          ethnicityDataCopy[3] = {\n            ...ethnicityDataCopy[3],\n            population: data.nativeAmer\n          };\n          ethnicityDataCopy[4] = {\n            ...ethnicityDataCopy[4],\n            population: data.pasifika\n          };\n          ethnicityDataCopy[5] = {\n            ...ethnicityDataCopy[5],\n            population: data.others\n          };\n          ethnicityDataCopy[6] = {\n            ...ethnicityDataCopy[6],\n            population:\n              data.white +\n              data.africanAmer +\n              data.asian +\n              data.nativeAmer +\n              data.pasifika +\n              data.others\n          };\n          if (countyStateIds[0] === 21) {\n            dataSourcesCopy[0] = {\n              ...dataSourcesCopy[0],\n              name: \"Code For America\",\n              category: \"Geographic\",\n              url:\n                \"https://codeforamerica.carto.com/u/civicdataalliance/tables/ky_voting_precinct_geographic_outlines_and_data/public\"\n            };\n            dataSourcesCopy[1] = {\n              ...dataSourcesCopy[1],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[2] = {\n              ...dataSourcesCopy[2],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[3] = {\n              ...dataSourcesCopy[3],\n              name: \"Open Elections\",\n              category: \"Election\",\n              url: \"https://github.com/openelections/openelections-data-ky\"\n            };\n            dataSourcesCopy[4] = {\n              ...dataSourcesCopy[4],\n              name: \"US Census\",\n              category: \"Demographic\",\n              url:\n                \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20Kentucky%20race&g=0400000US21.050000&tid=ACSDT5Y2018.B02001&layer=county&vintage=2018\"\n            };\n          } else if (countyStateIds[0] === 22) {\n            dataSourcesCopy[0] = {\n              ...dataSourcesCopy[1],\n              name: \"Election GeoData\",\n              category: \"Geographic\",\n              url:\n                \"https://github.com/nvkelso/election-geodata/tree/master/data/22-louisiana/statewide/2016\"\n            };\n            dataSourcesCopy[1] = {\n              ...dataSourcesCopy[0],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[2] = {\n              ...dataSourcesCopy[2],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[3] = {\n              ...dataSourcesCopy[3],\n              name: \"Open Elections\",\n              category: \"Election\",\n              url: \"https://github.com/openelections/openelections-data-la\"\n            };\n            dataSourcesCopy[4] = {\n              ...dataSourcesCopy[4],\n              name: \"US Census\",\n              category: \"Demographic\",\n              url:\n                \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20Louisiana%20race&g=0400000US22.050000&tid=ACSDT5Y2018.B02001&layer=county&cid=DP05_0001E&vintage=2018\"\n            };\n          } else {\n            dataSourcesCopy[0] = {\n              ...dataSourcesCopy[0],\n              name: \"Election GeoData\",\n              category: \"Geographic\",\n              url:\n                \"https://github.com/nvkelso/election-geodata/tree/master/data/45-south-carolina/statewide/2013\"\n            };\n            dataSourcesCopy[1] = {\n              ...dataSourcesCopy[1],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=Counties+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[2] = {\n              ...dataSourcesCopy[2],\n              name: \"US Census\",\n              category: \"Geographic\",\n              url:\n                \"https://www.census.gov/cgi-bin/geo/shapefiles/index.php?year=2019&layergroup=States+%28and+equivalent%29\"\n            };\n            dataSourcesCopy[3] = {\n              ...dataSourcesCopy[3],\n              name: \"Open Elections\",\n              category: \"Election\",\n              url: \"https://github.com/openelections/openelections-data-sc\"\n            };\n            dataSourcesCopy[4] = {\n              ...dataSourcesCopy[4],\n              name: \"US Census\",\n              category: \"Demographic\",\n              url:\n                \"https://data.census.gov/cedsci/table?q=All%20counties%20in%20South%20Carolina%20race&g=0400000US45.050000&tid=ACSDT5Y2018.B02001&layer=county&cid=DP05_0001E&vintage=2018\"\n            };\n          }\n          this.setState({\n            isLoading: false,\n            sidebarOpen: true,\n            currPrecinct: {\n              ...this.state.currPrecinct,\n              id: data.id,\n              canonicalName: data.canonicalName,\n              ghost: data.ghost,\n              multipleBorder: data.multipleBorder,\n              demoModified: data.demoModified,\n              adjPrecIds: data.adjPrecIds,\n              enclPrecIds: data.enclPrecIds,\n              interPrecIds: data.interPrecIds,\n              electionData: electionDataCopy,\n              ethnicityData: ethnicityDataCopy,\n              dataSources: dataSourcesCopy,\n              logBag: data.logBag\n            }\n          });\n        });\n    }\n    // View neighbors mode\n    else if (this.state.editMode === 2) {\n      // Fetch a data of a selected precinct and then highlight its neighbors\n      const precinctsCopy = [...this.state.precincts];\n      precinctsCopy.forEach((precinct) => {\n        precinct.fillColor = \"#fff9c4\";\n      });\n      const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n      precinctsCopy[precinctsIndex] = {\n        ...precinctsCopy[precinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      this.setState({ isLoading: true });\n      fetch(\"api/precinct/\" + id)\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data); // DEBUG: Remove this line later\n          data.adjPrecIds.forEach((adjPrecId) => {\n            precinctsCopy.forEach((precinct) => {\n              if (precinct.id === adjPrecId) {\n                precinct.fillColor = \"#ffeb3b\";\n              }\n            });\n          });\n          this.setState({\n            editMode: 1,\n            isLoading: false,\n            precincts: precinctsCopy\n          });\n        });\n    }\n    // Add neighbor mode\n    else if (this.state.editMode === 3) {\n      // Highlight a selected precinct\n      const precinctsCopy = [...this.state.precincts];\n      const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n      precinctsCopy[precinctsIndex] = {\n        ...precinctsCopy[precinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      if (this.state.currPrecinct.selected === false) {\n        this.setState({\n          currPrecinct: { ...this.state.currPrecinct, id: id, selected: true },\n          precincts: precinctsCopy\n        });\n      } else {\n        this.setState({\n          editMode: 1,\n          isLoading: true,\n          currPrecinct: {\n            ...this.state.currPrecinct,\n            selected: false\n          },\n          precincts: precinctsCopy\n        });\n\n        Promise.all([\n          fetch(\"api/precinct/\" + this.state.currPrecinct.id),\n          fetch(\"api/precinct/\" + id)\n        ])\n          .then(async ([res1, res2]) => {\n            const currPrecinctData = await res1.json();\n            const nextPrecinctData = await res2.json();\n            return [currPrecinctData, nextPrecinctData];\n          })\n          .then((data) => {\n            console.log(data); // DEBUG: Remove this line later\n\n            // Update adjPrecIds array\n            data[0].adjPrecIds.push(data[1].id);\n            data[1].adjPrecIds.push(data[0].id);\n\n            // Get county and state ids\n            const countyStateIds = data[0].id.split(\"-\", 2);\n\n            // Make a PUT request to the server with \"api/precinct\"\n            let isDoneLoading = false;\n            fetch(\"api/precinct\", {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"id\": data[0].id,\n                \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                \"stateId\": countyStateIds[0],\n                \"ghost\": data[0].ghost,\n                \"multipleBorder\": data[0].multipleBorder,\n                \"electionData\": {\n                  \"CONGRESSIONAL_16_DEM\": data[0].CONGRESSIONAL_16_DEM,\n                  \"PRESIDENTIAL_16_REP\": data[0].PRESIDENTIAL_16_REP,\n                  \"CONGRESSIONAL_18_DEM\": data[0].CONGRESSIONAL_18_DEM,\n                  \"CONGRESSIONAL_16_REP\": data[0].CONGRESSIONAL_16_REP,\n                  \"CONGRESSIONAL_18_REP\": data[0].CONGRESSIONAL_18_REP,\n                  \"PRESIDENTIAL_16_DEM\": data[0].PRESIDENTIAL_16_DEM\n                },\n                \"adjPrecIds\": data[0].adjPrecIds,\n                \"enclPrecIds\": data[0].enclPrecIds,\n                \"interPrecIds\": data[0].interPrecIds,\n                \"logBag\": data[0].logBag,\n                \"canonicalName\": data[0].canonicalName,\n                \"demoModified\": data[0].demoModified,\n                \"white\": data[0].white,\n                \"africanAmer\": data[0].africanAmer,\n                \"asian\": data[0].asian,\n                \"nativeAmer\": data[0].nativeAmer,\n                \"others\": data[0].others,\n                \"pasifika\": data[0].pasifika\n              })\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                console.log(\"Success:\", data);\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              })\n              .catch((error) => {\n                console.error(\"Error:\", error);\n              });\n            // Make a PUT request to the server with \"api/precinct\"\n            fetch(\"api/precinct\", {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"id\": data[1].id,\n                \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                \"stateId\": countyStateIds[0],\n                \"ghost\": data[1].ghost,\n                \"multipleBorder\": data[1].multipleBorder,\n                \"electionData\": {\n                  \"CONGRESSIONAL_16_DEM\": data[1].CONGRESSIONAL_16_DEM,\n                  \"PRESIDENTIAL_16_REP\": data[1].PRESIDENTIAL_16_REP,\n                  \"CONGRESSIONAL_18_DEM\": data[1].CONGRESSIONAL_18_DEM,\n                  \"CONGRESSIONAL_16_REP\": data[1].CONGRESSIONAL_16_REP,\n                  \"CONGRESSIONAL_18_REP\": data[1].CONGRESSIONAL_18_REP,\n                  \"PRESIDENTIAL_16_DEM\": data[1].PRESIDENTIAL_16_DEM\n                },\n                \"adjPrecIds\": data[1].adjPrecIds,\n                \"enclPrecIds\": data[1].enclPrecIds,\n                \"interPrecIds\": data[1].interPrecIds,\n                \"logBag\": data[1].logBag,\n                \"canonicalName\": data[1].canonicalName,\n                \"demoModified\": data[1].demoModified,\n                \"white\": data[1].white,\n                \"africanAmer\": data[1].africanAmer,\n                \"asian\": data[1].asian,\n                \"nativeAmer\": data[1].nativeAmer,\n                \"others\": data[1].others,\n                \"pasifika\": data[1].pasifika\n              })\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                console.log(\"Success:\", data);\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              })\n              .catch((error) => {\n                console.error(\"Error:\", error);\n              });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    }\n    // Delete neighbor mode\n    else if (this.state.editMode === 4) {\n      // Highlight a selected precinct\n      const precinctsCopy = [...this.state.precincts];\n      const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n      precinctsCopy[precinctsIndex] = {\n        ...precinctsCopy[precinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      if (this.state.currPrecinct.selected === false) {\n        this.setState({\n          currPrecinct: { ...this.state.currPrecinct, id: id, selected: true },\n          precincts: precinctsCopy\n        });\n      } else {\n        this.setState({\n          editMode: 1,\n          isLoading: true,\n          currPrecinct: { ...this.state.currPrecinct, selected: false },\n          precincts: precinctsCopy\n        });\n\n        Promise.all([\n          fetch(\"api/precinct/\" + this.state.currPrecinct.id),\n          fetch(\"api/precinct/\" + id)\n        ])\n          .then(async ([res1, res2]) => {\n            const currPrecinctData = await res1.json();\n            const nextPrecinctData = await res2.json();\n            return [currPrecinctData, nextPrecinctData];\n          })\n          .then((data) => {\n            console.log(data); // DEBUG: Remove this line later\n\n            // Remove old polygons from the precincts array\n            const index1 = data[0].adjPrecIds.findIndex(\n              (el) => el.id === data[1].id\n            );\n            const index2 = data[1].adjPrecIds.findIndex(\n              (el) => el.id === data[0].id\n            );\n            data[0].splice(index1, 1);\n            data[1].splice(index2, 1);\n\n            // Get county and state ids\n            const countyStateIds = data[0].id.split(\"-\", 2);\n\n            // Make a PUT request to the server with \"api/precinct\"\n            let isDoneLoading = false;\n            fetch(\"api/precinct\", {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"id\": data[0].id,\n                \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                \"stateId\": countyStateIds[0],\n                \"ghost\": data[0].ghost,\n                \"multipleBorder\": data[0].multipleBorder,\n                \"electionData\": {\n                  \"CONGRESSIONAL_16_DEM\": data[0].CONGRESSIONAL_16_DEM,\n                  \"PRESIDENTIAL_16_REP\": data[0].PRESIDENTIAL_16_REP,\n                  \"CONGRESSIONAL_18_DEM\": data[0].CONGRESSIONAL_18_DEM,\n                  \"CONGRESSIONAL_16_REP\": data[0].CONGRESSIONAL_16_REP,\n                  \"CONGRESSIONAL_18_REP\": data[0].CONGRESSIONAL_18_REP,\n                  \"PRESIDENTIAL_16_DEM\": data[0].PRESIDENTIAL_16_DEM\n                },\n                \"adjPrecIds\": data[0].adjPrecIds,\n                \"enclPrecIds\": data[0].enclPrecIds,\n                \"interPrecIds\": data[0].interPrecIds,\n                \"logBag\": data[0].logBag,\n                \"canonicalName\": data[0].canonicalName,\n                \"demoModified\": data[0].demoModified,\n                \"white\": data[0].white,\n                \"africanAmer\": data[0].africanAmer,\n                \"asian\": data[0].asian,\n                \"nativeAmer\": data[0].nativeAmer,\n                \"others\": data[0].others,\n                \"pasifika\": data[0].pasifika\n              })\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                console.log(\"Success:\", data);\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              })\n              .catch((error) => {\n                console.error(\"Error:\", error);\n              });\n            // Make a PUT request to the server with \"api/precinct\"\n            fetch(\"api/precinct\", {\n              method: \"PUT\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"id\": data[1].id,\n                \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                \"stateId\": countyStateIds[0],\n                \"ghost\": data[1].ghost,\n                \"multipleBorder\": data[1].multipleBorder,\n                \"electionData\": {\n                  \"CONGRESSIONAL_16_DEM\": data[1].CONGRESSIONAL_16_DEM,\n                  \"PRESIDENTIAL_16_REP\": data[1].PRESIDENTIAL_16_REP,\n                  \"CONGRESSIONAL_18_DEM\": data[1].CONGRESSIONAL_18_DEM,\n                  \"CONGRESSIONAL_16_REP\": data[1].CONGRESSIONAL_16_REP,\n                  \"CONGRESSIONAL_18_REP\": data[1].CONGRESSIONAL_18_REP,\n                  \"PRESIDENTIAL_16_DEM\": data[1].PRESIDENTIAL_16_DEM\n                },\n                \"adjPrecIds\": data[1].adjPrecIds,\n                \"enclPrecIds\": data[1].enclPrecIds,\n                \"interPrecIds\": data[1].interPrecIds,\n                \"logBag\": data[1].logBag,\n                \"canonicalName\": data[1].canonicalName,\n                \"demoModified\": data[1].demoModified,\n                \"white\": data[1].white,\n                \"africanAmer\": data[1].africanAmer,\n                \"asian\": data[1].asian,\n                \"nativeAmer\": data[1].nativeAmer,\n                \"others\": data[1].others,\n                \"pasifika\": data[1].pasifika\n              })\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                console.log(\"Success:\", data);\n                if (isDoneLoading === true) {\n                  this.setState({\n                    editMode: 1,\n                    displayMode: 3,\n                    isLoading: false\n                  });\n                } else {\n                  isDoneLoading = true;\n                }\n              })\n              .catch((error) => {\n                console.error(\"Error:\", error);\n              });\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n    }\n    // Merge precincts mode\n    else if (this.state.editMode === 5) {\n      // Highlight a selected precinct\n      const precinctsCopy = [...this.state.precincts];\n      const precinctsIndex = precinctsCopy.findIndex((el) => el.id === id);\n      precinctsCopy[precinctsIndex] = {\n        ...precinctsCopy[precinctsIndex],\n        fillColor: \"#c8b900\"\n      };\n      if (this.state.currPrecinct.selected === false) {\n        this.setState({\n          currPrecinct: {\n            ...this.state.currPrecinct,\n            id: id,\n            precinctsIndex: precinctsIndex,\n            selected: true,\n            coordinates: precinctsCopy[precinctsIndex].coordinates\n          },\n          precincts: precinctsCopy\n        });\n      } else {\n        // Merge polygons and get its new coordinates\n        let currPolygon;\n        let nextPolygon;\n        if (this.state.currPrecinct.coordinates[0][0][0][0] === undefined) {\n          currPolygon = polygon(this.state.currPrecinct.coordinates);\n        } else {\n          currPolygon = multiPolygon(this.state.currPrecinct.coordinates);\n        }\n        if (\n          precinctsCopy[precinctsIndex].coordinates[0][0][0][0] === undefined\n        ) {\n          nextPolygon = polygon(precinctsCopy[precinctsIndex].coordinates);\n        } else {\n          nextPolygon = multiPolygon(precinctsCopy[precinctsIndex].coordinates);\n        }\n        const newPolygon = union(currPolygon, nextPolygon);\n\n        // Remove old polygons from the precincts array\n        let precinctsIndexs;\n        if (this.state.currPrecinct.precinctsIndex > precinctsIndex) {\n          precinctsIndexs = [\n            precinctsIndex,\n            this.state.currPrecinct.precinctsIndex\n          ];\n        } else {\n          precinctsIndexs = [\n            this.state.currPrecinct.precinctsIndex,\n            precinctsIndex\n          ];\n        }\n        while (precinctsIndexs.length) {\n          precinctsCopy.splice(precinctsIndexs.pop(), 1);\n        }\n\n        this.setState({\n          editMode: 1,\n          currPrecinct: { ...this.state.currPrecinct, selected: false },\n          precincts: [\n            ...precinctsCopy,\n            {\n              id: this.state.currPrecinct.id,\n              fillColor: \"#c8b900\",\n              coordinates: newPolygon.geometry.coordinates\n            }\n          ]\n        });\n\n        this.setState({ isLoading: true });\n        fetch(\"api/precinct/\" + this.state.currPrecinct.id)\n          .then((res) => res.json())\n          .then((data) => {\n            console.log(data); // DEBUG: Remove this line later\n\n            // Get county and state ids\n            const countyStateIds = data.id.split(\"-\", 2);\n\n            // Make a DELETE request to the server with \"api/precinct/merge\"\n            fetch(\"api/precinct/merge\", {\n              method: \"DELETE\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"id\": data.id,\n                \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n                \"stateId\": countyStateIds[0],\n                \"ghost\": data.ghost,\n                \"multipleBorder\": data.multipleBorder,\n                \"electionData\": {\n                  \"CONGRESSIONAL_16_DEM\": data.CONGRESSIONAL_16_DEM,\n                  \"PRESIDENTIAL_16_REP\": data.PRESIDENTIAL_16_REP,\n                  \"CONGRESSIONAL_18_DEM\": data.CONGRESSIONAL_18_DEM,\n                  \"CONGRESSIONAL_16_REP\": data.CONGRESSIONAL_16_REP,\n                  \"CONGRESSIONAL_18_REP\": data.CONGRESSIONAL_18_REP,\n                  \"PRESIDENTIAL_16_DEM\": data.PRESIDENTIAL_16_DEM\n                },\n                \"adjPrecIds\": data.adjPrecIds,\n                \"enclPrecIds\": data.enclPrecIds,\n                \"interPrecIds\": data.interPrecIds,\n                \"logBag\": data.logBag,\n                \"canonicalName\": data.canonicalName,\n                \"demoModified\": data.demoModified,\n                \"white\": data.white,\n                \"africanAmer\": data.africanAmer,\n                \"asian\": data.asian,\n                \"nativeAmer\": data.nativeAmer,\n                \"others\": data.others,\n                \"pasifika\": data.pasifika,\n                \"mergeHolder\": id,\n                \"coordinates\": JSON.stringify(newPolygon.geometry.coordinates)\n              })\n            })\n              .then((res) => res.json())\n              .then((data) => {\n                console.log(\"Success:\", data);\n              })\n              .catch((error) => {\n                console.error(\"Error:\", error);\n              });\n            this.setState({\n              editMode: 1,\n              isLoading: false\n            });\n          });\n      }\n    }\n  }\n\n  handleCountyClick(e, id) {\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 10,\n      isLoading: true\n    });\n    fetch(\"api/county/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.precincts.forEach((currData) => {\n          this.setState({\n            precincts: [\n              ...this.state.precincts,\n              {\n                id: currData.id,\n                fillColor: currData.ghost ? \"#607d8b\" : \"#fff9c4\",\n                // fillColor: currData.ghost\n                //   ? \"#607d8b\"\n                //   : currData.error\n                //   ? \"#ff8a50\"\n                //   : \"#fff9c4\",\n                ghost: currData.ghost,\n                // error: currData.error,\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          });\n        });\n        this.setState({ displayMode: 3, isLoading: false });\n      });\n  }\n\n  handleStateClick(e, id) {\n    // Get counties of a selected state\n    this.setState({\n      latitude: e.latlng.lat,\n      longitude: e.latlng.lng,\n      zoom: 7,\n      isLoading: true\n    });\n    fetch(\"api/state/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.counties.forEach((currData) => {\n          this.setState({\n            counties: [\n              ...this.state.counties,\n              {\n                id: currData.id,\n                fillColor: currData.hasError ? \"#ff8a50\" : \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          });\n        });\n        this.setState({ displayMode: 2, isLoading: false });\n      });\n  }\n\n  handleStateSelect(id) {\n    // Selected Kentucky\n    if (id === 21) {\n      this.setState({ latitude: 37.84, longitude: -84.27, zoom: 7 });\n    }\n    // Selected Louisiana\n    else if (id === 22) {\n      this.setState({ latitude: 30.98, longitude: -91.96, zoom: 7 });\n    }\n    // Selected South Carolina\n    else if (id === 45) {\n      this.setState({ latitude: 33.84, longitude: -81.16, zoom: 7 });\n    }\n    // Get counties of a selected state\n    this.setState({ isLoading: true });\n    fetch(\"api/state/\" + id)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.counties.forEach((currData) => {\n          this.setState({\n            counties: [\n              ...this.state.counties,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          });\n        });\n        this.setState({ displayMode: 2, isLoading: false });\n      });\n  }\n\n  handleTableChange() {\n    // Get county and state ids\n    const countyStateIds = this.state.currPrecinct.id.split(\"-\", 2);\n\n    // Make a PUT request to the server with \"api/precinct\"\n    if (this.state.currPrecinct.ghost === true) {\n      this.setState({\n        currPrecinct: {\n          ...this.state.currPrecinct,\n          ghose: false\n        },\n        isLoading: true\n      });\n    } else {\n      this.setState({ isLoading: true });\n    }\n    fetch(\"api/precinct\", {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"id\": this.state.currPrecinct.id,\n        \"countyId\": countyStateIds[0] + \"-\" + countyStateIds[1],\n        \"stateId\": countyStateIds[0],\n        \"ghost\": this.state.currPrecinct.ghost,\n        \"multipleBorder\": this.state.currPrecinct.multipleBorder,\n        \"electionData\": {\n          \"CONGRESSIONAL_16_DEM\": this.state.currPrecinct.electionData[1]\n            .demVotes,\n          \"PRESIDENTIAL_16_REP\": this.state.currPrecinct.electionData[0]\n            .repVotes,\n          \"CONGRESSIONAL_18_DEM\": this.state.currPrecinct.electionData[2]\n            .demVotes,\n          \"CONGRESSIONAL_16_REP\": this.state.currPrecinct.electionData[1]\n            .repVotes,\n          \"CONGRESSIONAL_18_REP\": this.state.currPrecinct.electionData[2]\n            .repVotes,\n          \"PRESIDENTIAL_16_DEM\": this.state.currPrecinct.electionData[0]\n            .demVotes\n        },\n        \"adjPrecIds\": this.state.currPrecinct.adjPrecIds,\n        \"enclPrecIds\": this.state.currPrecinct.enclPrecIds,\n        \"interPrecIds\": this.state.currPrecinct.interPrecIds,\n        \"logBag\": this.state.currPrecinct.logBag,\n        \"canonicalName\": this.state.currPrecinct.canonicalName,\n        \"demoModified\": this.state.currPrecinct.demoModified,\n        \"white\": this.state.currPrecinct.ethnicityData[0].population,\n        \"africanAmer\": this.state.currPrecinct.ethnicityData[1].population,\n        \"asian\": this.state.currPrecinct.ethnicityData[2].population,\n        \"nativeAmer\": this.state.currPrecinct.ethnicityData[3].population,\n        \"others\": this.state.currPrecinct.ethnicityData[5].population,\n        \"pasifika\": this.state.currPrecinct.ethnicityData[4].population\n      })\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Success:\", data);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n\n  handlePolygonCreated(e) {\n    // TODO: Push new precinct object to the precincts array\n    // TODO: Make a POST request to the server to add new precinct\n    console.log(e);\n  }\n\n  handlePolygonEdited(e) {\n    // TODO: Update new coordinates in the state object\n    // TODO: Make a POST request to the server to update precinct coordinates\n    e.layers.eachLayer((layer) => {\n      console.log(layer.options.id);\n      console.log(layer.getLatLngs());\n      console.log(layer.toGeoJSON().geometry.coordinates);\n    });\n  }\n\n  handlePolygonDeleted(e) {\n    // TODO: Delete precinct object from the precincts array\n    // TODO: Do not open side bar when clicking a precinct to delete\n  }\n\n  componentDidMount() {\n    this.setState({ isLoading: true });\n    fetch(\"api/state/all\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data); // DEBUG: Remove this line later\n        data.forEach((currData) => {\n          this.setState({\n            states: [\n              ...this.state.states,\n              {\n                id: currData.id,\n                fillColor: \"#fff9c4\",\n                coordinates: JSON.parse(currData.coordinates)\n              }\n            ]\n          });\n        });\n        this.setState({ isLoading: false });\n      });\n  }\n\n  formatLink(data) {\n    return (\n      <Button variant=\"link\" href={data}>\n        View Source\n      </Button>\n      // <a href={cell} target=\"_blank\">\n      //   See mail\n      // </a>\n    );\n  }\n\n  formatNumber(data) {\n    return (\n      <NumberFormat\n        value={data}\n        displayType={\"text\"}\n        thousandSeparator={true}\n      />\n    );\n  }\n\n  validateNumber(data) {\n    if (isNaN(data)) {\n      return {\n        valid: false,\n        message: \"Input should be numeric\"\n      };\n    } else if (data < 0) {\n      return {\n        valid: false,\n        message: \"Input cannot be less than zero\"\n      };\n    } else if (data > 0 && data !== data.replace(/^0+/, \"\")) {\n      return {\n        valid: false,\n        message: \"Input cannot have a leading zero\"\n      };\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const position = [this.state.latitude, this.state.longitude];\n    const electionTableColumns = [\n      {\n        dataField: \"election\",\n        text: \"Election\"\n      },\n      {\n        dataField: \"demVotes\",\n        text: \"Democratic Votes\",\n        formatter: this.formatNumber,\n        validator: this.validateNumber\n      },\n      {\n        dataField: \"repVotes\",\n        text: \"Republican Votes\",\n        formatter: this.formatNumber,\n        validator: this.validateNumber\n      }\n    ];\n    const ethnicityTableColumns = [\n      {\n        dataField: \"ethnicity\",\n        text: \"Ethnicity\"\n      },\n      {\n        dataField: \"population\",\n        text: \"Population\",\n        formatter: this.formatNumber,\n        validator: this.validateNumber\n      }\n    ];\n    const logTableColumns = [\n      {\n        dataField: \"id\",\n        text: \"Log ID\"\n      },\n      {\n        dataField: \"category\",\n        text: \"Error Category\"\n      },\n      {\n        dataField: \"comment\",\n        text: \"User Comment\"\n      }\n    ];\n    const dataSourceTableColumns = [\n      {\n        dataField: \"name\",\n        text: \"Source Name\"\n      },\n      {\n        dataField: \"category\",\n        text: \"Data Category\"\n      },\n      {\n        dataField: \"url\",\n        text: \"Source URL\",\n        formatter: this.formatLink\n      }\n    ];\n    return (\n      <Styles>\n        <div id=\"outer-container\">\n          <Modal size=\"sm\" show={this.state.isLoading} onHide={() => {}}>\n            <Container>\n              <Row>\n                <Col>\n                  <CubeGrid size={24} color=\"#37474f\" />\n                </Col>\n                <Col className=\"pt-4\" xs={8}>\n                  <h5>Loading Data...</h5>\n                </Col>\n              </Row>\n            </Container>\n          </Modal>\n          <Menu\n            right\n            noOverlay\n            disableOverlayClick\n            pageWrapId={\"page-wrap\"}\n            outerContainerId={\"outer-container\"}\n            menuClassName={\"menu-right\"}\n            width={\"37%\"}\n            customBurgerIcon={false}\n            isOpen={this.state.sidebarOpen}\n            onStateChange={(state) => this.handleStateChange(state)}\n          >\n            <Container fluid className=\"px-0\">\n              <Row className=\"pt-4\">\n                <Col>\n                  <h4>{this.state.currPrecinct.id}</h4>\n                </Col>\n              </Row>\n              <Row className=\"py-1\">\n                <Col>\n                  <h5>Election Data</h5>\n                </Col>\n              </Row>\n              <Row className=\"pb-2\">\n                <Col>\n                  <BootstrapTable\n                    striped\n                    hover\n                    condensed\n                    keyField=\"election\"\n                    data={this.state.currPrecinct.electionData}\n                    columns={electionTableColumns}\n                    cellEdit={cellEditFactory({\n                      mode: \"click\",\n                      blurToSave: true,\n                      afterSaveCell: () => this.handleTableChange()\n                    })}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"pb-1\">\n                <Col>\n                  <h5>County Demographic Data</h5>\n                </Col>\n              </Row>\n              <Row className=\"pb-2\">\n                <Col>\n                  <BootstrapTable\n                    striped\n                    hover\n                    condensed\n                    keyField=\"ethnicity\"\n                    data={this.state.currPrecinct.ethnicityData}\n                    columns={ethnicityTableColumns}\n                    cellEdit={cellEditFactory({\n                      mode: \"click\",\n                      blurToSave: true,\n                      afterSaveCell: () => this.handleTableChange()\n                    })}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"pb-1\">\n                <Col>\n                  <h5>Corrections Log</h5>\n                </Col>\n              </Row>\n              <Row className=\"pb-2\">\n                <Col>\n                  <BootstrapTable\n                    striped\n                    hover\n                    condensed\n                    keyField=\"id\"\n                    data={[]}\n                    columns={logTableColumns}\n                    noDataIndication=\"Data Not Available for Now\"\n                    cellEdit={cellEditFactory({\n                      mode: \"click\",\n                      blurToSave: true\n                    })}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"pb-1\">\n                <Col>\n                  <h5>Data Sources</h5>\n                </Col>\n              </Row>\n              <Row className=\"pb-5\">\n                <Col>\n                  <BootstrapTable\n                    striped\n                    hover\n                    condensed\n                    keyField=\"id\"\n                    data={this.state.currPrecinct.dataSources}\n                    columns={dataSourceTableColumns}\n                    // noDataIndication=\"Data Not Available for Now\"\n                    // cellEdit={cellEditFactory({\n                    //   mode: \"click\",\n                    //   blurToSave: true\n                    // })}\n                  />\n                </Col>\n              </Row>\n            </Container>\n          </Menu>\n          <main id=\"page-wrap\">\n            <Container fluid className=\"px-0\">\n              <Row>\n                <Col>\n                  <Map\n                    center={position}\n                    zoomControl={false}\n                    zoom={this.state.zoom}\n                    onZoomEnd={(e) => this.handleZoomEnd(e)}\n                  >\n                    <ZoomControl position=\"bottomleft\" />\n                    <LayersControl position=\"bottomleft\">\n                      <TileLayer\n                        url=\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\"\n                        attribution='&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, \n                    &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> \n                    &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\n                        preferCanvas={true}\n                      />\n                      <Control position=\"topleft\">\n                        <ButtonGroup vertical className=\"pb-2\">\n                          <DropdownButton\n                            as={ButtonGroup}\n                            id=\"select-state-dropdown\"\n                            drop=\"right\"\n                            variant=\"light\"\n                            size=\"sm\"\n                            title=\"Select State\"\n                          >\n                            <Dropdown.Item\n                              onSelect={() => this.handleStateSelect(21)}\n                            >\n                              Kentucky\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                              onSelect={() => this.handleStateSelect(22)}\n                            >\n                              Louisiana\n                            </Dropdown.Item>\n                            <Dropdown.Item\n                              onSelect={() => this.handleStateSelect(45)}\n                            >\n                              South Carolina\n                            </Dropdown.Item>\n                          </DropdownButton>\n                          <Button\n                            variant=\"light\"\n                            size=\"sm\"\n                            active={this.state.editMode === 2 ? true : false}\n                            onClick={() => this.handleViewNeighbors()}\n                          >\n                            View Neighbors\n                          </Button>\n                          <Button\n                            variant=\"light\"\n                            size=\"sm\"\n                            active={this.state.editMode === 3 ? true : false}\n                            onClick={() => this.handleAddNeighbor()}\n                          >\n                            Add Neighbor\n                          </Button>\n                          <Button\n                            variant=\"light\"\n                            size=\"sm\"\n                            active={this.state.editMode === 4 ? true : false}\n                            onClick={() => this.handleDeleteNeighbor()}\n                          >\n                            Delete Neighbor\n                          </Button>\n                          <Button\n                            variant=\"light\"\n                            size=\"sm\"\n                            active={this.state.editMode === 5 ? true : false}\n                            onClick={() => this.handleMergePrecincts()}\n                          >\n                            Merge Precincts\n                          </Button>\n                        </ButtonGroup>\n                      </Control>\n                      <Overlay name=\"State Boundaries\" checked={true}>\n                        <LayerGroup>\n                          {this.state.states.map((state) => {\n                            if (this.state.displayMode === 1) {\n                              return (\n                                <Polygon\n                                  id={state.id}\n                                  key={state.id}\n                                  positions={state.coordinates}\n                                  smoothFactor={1}\n                                  color={\"#102027\"}\n                                  weight={1}\n                                  fillOpacity={0.5}\n                                  fillColor={state.fillColor}\n                                  onClick={(e) =>\n                                    this.handleStateClick(e, state.id)\n                                  }\n                                  onMouseOver={this.handleMouseOver}\n                                  onMouseOut={this.handleMouseOut}\n                                >\n                                  <Tooltip>\n                                    <b>{state.id}</b>\n                                  </Tooltip>\n                                </Polygon>\n                              );\n                            } else if (this.state.zoom < 7) {\n                              return (\n                                <Polygon\n                                  id={state.id}\n                                  key={state.id}\n                                  positions={state.coordinates}\n                                  smoothFactor={1}\n                                  color={\"#102027\"}\n                                  weight={1}\n                                  fillOpacity={0.5}\n                                  fillColor={state.fillColor}\n                                  onClick={(e) =>\n                                    this.handleStateClick(e, state.id)\n                                  }\n                                  onMouseOver={this.handleMouseOver}\n                                  onMouseOut={this.handleMouseOut}\n                                >\n                                  <Tooltip>\n                                    <b>{state.id}</b>\n                                  </Tooltip>\n                                </Polygon>\n                              );\n                            } else {\n                              return null;\n                            }\n                          })}\n                        </LayerGroup>\n                      </Overlay>\n                      <Overlay name=\"County Boundaries\" checked={true}>\n                        <LayerGroup>\n                          {this.state.counties.map((county) => {\n                            if (this.state.displayMode === 2) {\n                              return (\n                                <Polygon\n                                  id={county.id}\n                                  key={county.id}\n                                  positions={county.coordinates}\n                                  smoothFactor={1}\n                                  color={\"#102027\"}\n                                  weight={1}\n                                  fillOpacity={0.5}\n                                  fillColor={county.fillColor}\n                                  onClick={(e) =>\n                                    this.handleCountyClick(e, county.id)\n                                  }\n                                  onMouseOver={this.handleMouseOver}\n                                  onMouseOut={this.handleMouseOut}\n                                >\n                                  <Tooltip>\n                                    <b>{county.id}</b>\n                                  </Tooltip>\n                                </Polygon>\n                              );\n                            } else if (this.state.zoom < 9) {\n                              return (\n                                <Polygon\n                                  id={county.id}\n                                  key={county.id}\n                                  positions={county.coordinates}\n                                  smoothFactor={1}\n                                  color={\"#102027\"}\n                                  weight={1}\n                                  fillOpacity={0.5}\n                                  fillColor={county.fillColor}\n                                  onClick={(e) =>\n                                    this.handleCountyClick(e, county.id)\n                                  }\n                                  onMouseOver={this.handleMouseOver}\n                                  onMouseOut={this.handleMouseOut}\n                                >\n                                  <Tooltip>\n                                    <b>{county.id}</b>\n                                  </Tooltip>\n                                </Polygon>\n                              );\n                            } else {\n                              return null;\n                            }\n                          })}\n                        </LayerGroup>\n                      </Overlay>\n                      <Overlay name=\"Precinct Boundaries\" checked={true}>\n                        <LayerGroup>\n                          {this.state.precincts.map((precinct) => {\n                            if (this.state.displayMode === 3) {\n                              return (\n                                <Polygon\n                                  id={precinct.id}\n                                  key={precinct.id}\n                                  positions={precinct.coordinates}\n                                  smoothFactor={1}\n                                  color={\"#102027\"}\n                                  weight={1}\n                                  fillOpacity={0.5}\n                                  fillColor={precinct.fillColor}\n                                  onClick={(e) =>\n                                    this.handlePrecinctClick(e, precinct.id)\n                                  }\n                                  onMouseOver={this.handleMouseOver}\n                                  onMouseOut={this.handleMouseOut}\n                                >\n                                  <Tooltip>\n                                    <b>{precinct.id}</b>\n                                  </Tooltip>\n                                </Polygon>\n                              );\n                            } else {\n                              return null;\n                            }\n                          })}\n                        </LayerGroup>\n                      </Overlay>\n                      <Overlay name=\"National Park Boundaries\">\n                        <LayerGroup>\n                          {this.state.nationalParks.map((park) => {\n                            return (\n                              <Polygon\n                                id={park.id}\n                                key={park.id}\n                                positions={park.coordinates}\n                              />\n                            );\n                          })}\n                        </LayerGroup>\n                      </Overlay>\n                      <Overlay name=\"Congressional District Boundaries\">\n                        <LayerGroup>\n                          {this.state.congDistricts.map((district) => {\n                            return (\n                              <Polygon\n                                id={district.id}\n                                key={district.id}\n                                positions={district.coordinates}\n                              />\n                            );\n                          })}\n                        </LayerGroup>\n                      </Overlay>\n                      <Overlay name=\"Sample Polygons\" checked={false}>\n                        <FeatureGroup>\n                          <EditControl\n                            position=\"bottomleft\"\n                            onCreated={this.handlePolygonCreated}\n                            onEdited={this.handlePolygonEdited}\n                            onDeleted={this.handlePolygonDeleted}\n                            draw={{\n                              polyline: false,\n                              circle: false,\n                              marker: false,\n                              circlemarker: false\n                            }}\n                          />\n                          {this.state.testPolygons.map((polygon) => {\n                            return (\n                              <Polygon\n                                id={polygon.id}\n                                key={polygon.id}\n                                positions={polygon.coordinates}\n                                smoothFactor={1}\n                                color={\"#102027\"}\n                                weight={1}\n                                fillOpacity={0.5}\n                                fillColor={polygon.fillColor}\n                              />\n                            );\n                          })}\n                        </FeatureGroup>\n                      </Overlay>\n                    </LayersControl>\n                  </Map>\n                </Col>\n              </Row>\n            </Container>\n          </main>\n        </div>\n      </Styles>\n    );\n  }\n}\n\nexport default MapView;\n"]},"metadata":{},"sourceType":"module"}